(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},,,function(e,t,s){"use strict";var r,n,a=function(){return r=void 0===r?Boolean(window&&document&&document.all&&!window.atob):r},o=(n={},function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}),l=[];function c(e){for(var t=-1,r=0;r<l.length;r++)if(l[r].identifier===e){t=r;break}return t}function p(e,t){for(var r={},n=[],s=0;s<e.length;s++){var o=e[s],i=t.base?o[0]+t.base:o[0],a=r[i]||0,p="".concat(i," ").concat(a),i=(r[i]=a+1,c(p)),a={css:o[1],media:o[2],sourceMap:o[3]};-1!==i?(l[i].references++,l[i].updater(a)):l.push({identifier:p,updater:function(t,e){var r,n,s;{var o;s=e.singleton?(o=y++,r=d=d||u(e),n=f.bind(null,r,o,!1),f.bind(null,r,o,!0)):(r=u(e),n=function(e,t,r){var n=r.css,s=r.media,r=r.sourceMap;s?e.setAttribute("media",s):e.removeAttribute("media");r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */"));if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,r,e),function(){var e=r;null!==e.parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):s()}}(a,t),references:1}),n.push(p)}return n}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce&&(n=s.nc)&&(r.nonce=n),Object.keys(r).forEach(function(e){t.setAttribute(e,r[e])}),"function"==typeof e.insert)e.insert(t);else{var n=o(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}i=[];var i,h=function(e,t){return i[e]=t,i.filter(Boolean).join("\n")};function f(e,t,r,n){var r=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=h(t,r):(n=document.createTextNode(r),(r=e.childNodes)[t]&&e.removeChild(r[t]),r.length?e.insertBefore(n,r[t]):e.appendChild(n))}var d=null,y=0;e.exports=function(e,o){(o=o||{}).singleton||"boolean"==typeof o.singleton||(o.singleton=a());var i=p(e=e||[],o);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<i.length;t++){var r=c(i[t]);l[r].references--}for(var e=p(e,o),n=0;n<i.length;n++){var s=c(i[n]);0===l[s].references&&(l[s].updater(),l.splice(s,1))}i=e}}}},function(e,t,r){"use strict";e.exports=function(r){var p=[];return p.toString=function(){return this.map(function(e){var t=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa)return e=function(e){e=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),e="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(e," */")}(n),t=n.sources.map(function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}),[r].concat(t).concat([e]).join("\n");return[r].join("\n")}(e,r);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t}).join("")},p.i=function(e,t,r){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(r)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(n[o]=!0)}for(var i=0;i<e.length;i++){var a=[].concat(e[i]);r&&n[a[0]]||(t&&(a[2]?a[2]="".concat(t," and ").concat(a[2]):a[2]=t),p.push(a))}},p}},function(e,t,r){
/**
 * Twig.js
 *
 * @copyright 2011-2020 John Roepke and the Twig.js Contributors
 * @license   Available under the BSD 2-Clause License
 * @link      https://github.com/twigjs/twig.js
 */
e.exports=r(39)()},,function(e,t){var r,n,e=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}function i(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return(r=setTimeout)(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}var a,p=[],l=!1,c=-1;function u(){l&&a&&(l=!1,a.length?p=a.concat(p):c=-1,p.length)&&h()}function h(){if(!l){for(var e=i(u),t=(l=!0,p.length);t;){for(a=p,p=[];++c<t;)a&&a[c].run();c=-1,t=p.length}a=null,l=!1,!function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return(n=clearTimeout)(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function d(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new f(e,t)),1!==p.length||l||i(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=d,e.addListener=d,e.once=d,e.off=d,e.removeListener=d,e.removeAllListeners=d,e.emit=d,e.prependListener=d,e.prependOnceListener=d,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},,,,,,,,,,,,function(e,t,r){"use strict";e.exports=function(){function m(e,t,r,n,s,o){return e=v((e>>>0).toString(t),s||0,"0",!1),w(e,"",r,n,o)}function g(e,t,r,n,s){return null!=n&&(e=e.slice(0,n)),w(e,"",t,r,s)}var x=arguments,b=0,e=x[b++],v=function(e,t,r,n){r=r||" ";t=e.length>=t?"":new Array(1+t-e.length>>>0).join(r);return n?e+t:t+e},w=function(e,t,r,n,s){var o=n-e.length;return e=0<o?r||"0"!==s?v(e,n,s,r):[e.slice(0,t.length),v("",o,"0",!0),e.slice(t.length)].join(""):e};try{return e.replace(/%%|%(?:(\d+)\$)?((?:[-+#0 ]|'[\s\S])*)(\d+)?(?:\.(\d*))?([\s\S])/g,function(e,t,r,n,s,o){var i,a,p=void 0,l=void 0,c=void 0;if("%%"===e)return"%";for(var u=" ",h=!1,f="",d=void 0,d=0,y=r.length;d<y;d++)switch(r.charAt(d)){case" ":case"0":u=r.charAt(d);break;case"+":f="+";break;case"-":h=!0;break;case"'":d+1<y&&(u=r.charAt(d+1),d++)}if(n=n?+n:0,!isFinite(n))throw new Error("Width must be finite");if(s=s?+s:"d"===o?0:-1<"fFeE".indexOf(o)?6:void 0,t&&0==+t)throw new Error("Argument number must be greater than zero");if(t&&x.length<=+t)throw new Error("Too few arguments");switch(c=t?x[+t]:x[b++],o){case"%":return"%";case"s":return g(c+"",h,n,s,u);case"c":return g(String.fromCharCode(+c),h,n,s,u);case"b":return m(c,2,h,n,s,u);case"o":return m(c,8,h,n,s,u);case"x":return m(c,16,h,n,s,u);case"X":return m(c,16,h,n,s,u).toUpperCase();case"u":return m(c,10,h,n,s,u);case"i":case"d":return p=+c||0,c=(l=(p=Math.round(p-p%1))<0?"-":f)+v(String(Math.abs(p)),s,"0",!1),w(c,l,h,n,u=h&&"0"===u?" ":u);case"e":case"E":case"f":case"F":case"g":case"G":return l=(p=+c)<0?"-":f,i=["toExponential","toFixed","toPrecision"]["efg".indexOf(o.toLowerCase())],a=["toString","toUpperCase"]["eEfFgG".indexOf(o)%2],c=l+Math.abs(p)[i](s),w(c,l,h,n,u)[a]();default:return""}})}catch(e){return!1}}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){switch(void 0===e?"undefined":n(e)){case"number":return isNaN(e)||!isFinite(e)?0:e<0?Math.ceil(e):Math.floor(e);case"string":return parseInt(e,10)||0;default:return+!!e}}},function(e,l,t){!function(s){function o(e,t){for(var r=0,n=e.length-1;0<=n;n--){var s=e[n];"."===s?e.splice(n,1):".."===s?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}l.resolve=function(){for(var e="",t=!1,r=arguments.length-1;-1<=r&&!t;r--){var n=0<=r?arguments[r]:s.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(e=n+"/"+e,t="/"===n.charAt(0))}return(t?"/":"")+(e=o(i(e.split("/"),function(e){return!!e}),!t).join("/"))||"."},l.normalize=function(e){var t=l.isAbsolute(e),r="/"===n(e,-1);return(e=(e=o(i(e.split("/"),function(e){return!!e}),!t).join("/"))||t?e:".")&&r&&(e+="/"),(t?"/":"")+e},l.isAbsolute=function(e){return"/"===e.charAt(0)},l.join=function(){var e=Array.prototype.slice.call(arguments,0);return l.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},l.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;0<=r&&""===e[r];r--);return r<t?[]:e.slice(t,r-t+1)}e=l.resolve(e).substr(1),t=l.resolve(t).substr(1);for(var n=r(e.split("/")),s=r(t.split("/")),o=Math.min(n.length,s.length),i=o,a=0;a<o;a++)if(n[a]!==s[a]){i=a;break}for(var p=[],a=i;a<n.length;a++)p.push("..");return(p=p.concat(s.slice(i))).join("/")},l.sep="/",l.delimiter=":",l.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=47===e.charCodeAt(0),r=-1,n=!0,s=e.length-1;1<=s;--s)if(47===e.charCodeAt(s)){if(!n){r=s;break}}else n=!1;return-1===r?t?"/":".":t&&1===r?"/":e.slice(0,r)},l.basename=function(e,t){e=function(e){"string"!=typeof e&&(e+="");for(var t=0,r=-1,n=!0,s=e.length-1;0<=s;--s)if(47===e.charCodeAt(s)){if(!n){t=s+1;break}}else-1===r&&(n=!1,r=s+1);return-1===r?"":e.slice(t,r)}(e);return e=t&&e.substr(-1*t.length)===t?e.substr(0,e.length-t.length):e},l.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,r=0,n=-1,s=!0,o=0,i=e.length-1;0<=i;--i){var a=e.charCodeAt(i);if(47===a){if(s)continue;r=i+1;break}-1===n&&(s=!1,n=i+1),46===a?-1===t?t=i:1!==o&&(o=1):-1!==t&&(o=-1)}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===r+1?"":e.slice(t,n)};var n="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}.call(this,t(8))},,,,,,,,,,,,,,,,,function(e,t,r){e.exports=function e(){var t={VERSION:"1.16.0"};return r(40)(t),r(41)(t),r(42)(t),r(44)(t),r(45)(t),r(46)(t),r(57)(t),r(58)(t),r(59)(t),r(60)(t),r(61)(t),r(62)(t),r(63)(t),r(64)(t),r(65)(t),t.exports.factory=e,t.exports}},function(e,t){e.exports=function(b){"use strict";function c(e,t){if(e.template.options.rethrow)throw"TwigException"!==(t="string"==typeof t?new b.Error(t):t).type||t.file||(t.file=e.template.id),t;if(b.log.error("Error parsing twig template "+e.template.id+": "),t.stack?b.log.error(t.stack):b.log.error(t.toString()),b.debug)return t.toString()}return b.trace=!1,b.debug=!1,b.cache=!0,b.noop=function(){},b.merge=function(t,r,n){return Object.keys(r).forEach(e=>{(!n||e in t)&&(t[e]=r[e])}),t},b.Error=function(e,t){this.message=e,this.name="TwigException",this.type="TwigException",this.file=t},b.Error.prototype.toString=function(){return this.name+": "+this.message},b.log={trace(...e){b.trace&&console&&console.log(Array.prototype.slice.call(e))},debug(...e){b.debug&&console&&console.log(Array.prototype.slice.call(e))}},"undefined"==typeof console?b.log.error=function(){}:void 0!==console.error?b.log.error=function(...e){console.error(...e)}:void 0!==console.log&&(b.log.error=function(...e){console.log(...e)}),b.token={},b.token.type={output:"output",logic:"logic",comment:"comment",raw:"raw",outputWhitespacePre:"output_whitespace_pre",outputWhitespacePost:"output_whitespace_post",outputWhitespaceBoth:"output_whitespace_both",logicWhitespacePre:"logic_whitespace_pre",logicWhitespacePost:"logic_whitespace_post",logicWhitespaceBoth:"logic_whitespace_both"},b.token.definitions=[{type:b.token.type.raw,open:"{% raw %}",close:"{% endraw %}"},{type:b.token.type.raw,open:"{% verbatim %}",close:"{% endverbatim %}"},{type:b.token.type.outputWhitespacePre,open:"{{-",close:"}}"},{type:b.token.type.outputWhitespacePost,open:"{{",close:"-}}"},{type:b.token.type.outputWhitespaceBoth,open:"{{-",close:"-}}"},{type:b.token.type.logicWhitespacePre,open:"{%-",close:"%}"},{type:b.token.type.logicWhitespacePost,open:"{%",close:"-%}"},{type:b.token.type.logicWhitespaceBoth,open:"{%-",close:"-%}"},{type:b.token.type.output,open:"{{",close:"}}"},{type:b.token.type.logic,open:"{%",close:"%}"},{type:b.token.type.comment,open:"{#",close:"#}"}],b.token.strings=['"',"'"],b.token.findStart=function(e){var t={position:null,def:null};let r=null;var n,s,o,i=b.token.definitions.length;let a;for(a=0;a<i;a++)n=b.token.definitions[a],s=e.indexOf(n.open),o=e.indexOf(n.close),b.log.trace("Twig.token.findStart: ","Searching for ",n.open," found at ",s),0<=s&&n.open.length!==n.close.length&&o<0||(0<=s&&(null===t.position||s<t.position)||0<=s&&null!==t.position&&s===t.position&&(n.open.length>t.def.open.length||n.open.length===t.def.open.length&&(n.close.length,t.def.close.length,0<=o)&&o<r))&&(t.position=s,t.def=n,r=o);return t},b.token.findEnd=function(e,t,r){let n=null,s=!1,o=0,i=null,a=null;var p;let l=null;var c,u,h;let f;for(;!s;){if(i=null,a=null,!(0<=(p=e.indexOf(t.close,o))))throw new b.Error("Unable to find closing bracket '"+t.close+"' opened near template position "+r);if(n=p,s=!0,t.type===b.token.type.comment)break;if(t.type===b.token.type.raw)break;for(h=b.token.strings.length,f=0;f<h;f+=1)0<(c=e.indexOf(b.token.strings[f],o))&&c<p&&(null===i||c<i)&&(i=c,a=b.token.strings[f]);if(null!==i)for(l=i+1,n=null,s=!1;;){if((u=e.indexOf(a,l))<0)throw b.Error("Unclosed string in template");if("\\"!==e.slice(u-1,u)){o=u+1;break}l=u+1}}return n},b.tokenize=function(e){var t=[];let r=0;var n;let s=null;for(;0<e.length;)if(n=b.token.findStart(e),b.log.trace("Twig.tokenize: ","Found token: ",n),null===n.position)t.push({type:b.token.type.raw,value:e}),e="";else{if(0<n.position&&t.push({type:b.token.type.raw,value:e.slice(0,Math.max(0,n.position))}),e=e.slice(n.position+n.def.open.length),r+=n.position+n.def.open.length,s=b.token.findEnd(e,n.def,r),b.log.trace("Twig.tokenize: ","Token ends at ",s),t.push({type:n.def.type,value:e.slice(0,Math.max(0,s)).trim()}),"\n"===e.slice(s+n.def.close.length,s+n.def.close.length+1))switch(n.def.type){case"logic_whitespace_pre":case"logic_whitespace_post":case"logic_whitespace_both":case"logic":s+=1}e=e.slice(s+n.def.close.length),r+=s+n.def.close.length}return t},b.compile=function(e){const l=this;try{const g=[],x=[];let t=[];var c;let r=null;var u;let n=null;var h=null,f=null;let s=null;var d=null;let o=null,i=null,a=null,p=null;for(var y=function(e){b.expression.compile.call(l,e),(0<x.length?t:g).push(e)},m=function(e){if(r=b.logic.compile.call(l,e),i=r.type,a=b.logic.handler[i].open,p=b.logic.handler[i].next,b.log.trace("Twig.compile: ","Compiled logic token to ",r," next is: ",p," open is : ",a),void 0!==a&&!a){if(n=x.pop(),!(s=b.logic.handler[n.type]).next.includes(i))throw new Error(i+" not expected after a "+n.type);n.output=n.output||[],n.output=n.output.concat(t),t=[],o={type:b.token.type.logic,token:n},(0<x.length?t:g).push(o)}void 0!==p&&0<p.length?(b.log.trace("Twig.compile: ","Pushing ",r," to logic stack."),0<x.length&&((n=x.pop()).output=n.output||[],n.output=n.output.concat(t),x.push(n),t=[]),x.push(r)):void 0!==a&&a&&(o={type:b.token.type.logic,token:r},(0<x.length?t:g).push(o))};0<e.length;){switch(c=e.shift(),h=g[g.length-1],f=t[t.length-1],d=e[0],b.log.trace("Compiling token ",c),c.type){case b.token.type.raw:(0<x.length?t:g).push(c);break;case b.token.type.logic:m.call(l,c);break;case b.token.type.comment:break;case b.token.type.output:y.call(l,c);break;case b.token.type.logicWhitespacePre:case b.token.type.logicWhitespacePost:case b.token.type.logicWhitespaceBoth:case b.token.type.outputWhitespacePre:case b.token.type.outputWhitespacePost:case b.token.type.outputWhitespaceBoth:switch(c.type!==b.token.type.outputWhitespacePost&&c.type!==b.token.type.logicWhitespacePost&&(h&&h.type===b.token.type.raw&&(g.pop(),h.value=h.value.trimEnd(),g.push(h)),f)&&f.type===b.token.type.raw&&(t.pop(),f.value=f.value.trimEnd(),t.push(f)),c.type){case b.token.type.outputWhitespacePre:case b.token.type.outputWhitespacePost:case b.token.type.outputWhitespaceBoth:y.call(l,c);break;case b.token.type.logicWhitespacePre:case b.token.type.logicWhitespacePost:case b.token.type.logicWhitespaceBoth:m.call(l,c)}c.type!==b.token.type.outputWhitespacePre&&c.type!==b.token.type.logicWhitespacePre&&d&&d.type===b.token.type.raw&&(e.shift(),d.value=d.value.trimStart(),e.unshift(d))}b.log.trace("Twig.compile: "," Output: ",g," Logic Stack: ",x," Pending Output: ",t)}if(0<x.length)throw u=x.pop(),new Error("Unable to find an end tag for "+u.type+", expecting one of "+u.next);return g}catch(e){if(l.options.rethrow)throw"TwigException"!==e.type||e.file||(e.file=l.id),e;b.log.error("Error compiling twig template "+l.id+": "),e.stack?b.log.error(e.stack):b.log.error(e.toString())}},b.prepare=function(e){b.log.debug("Twig.prepare: ","Tokenizing ",e);e=b.tokenize.call(this,e),b.log.debug("Twig.prepare: ","Compiling ",e),e=b.compile.call(this,e);return b.log.debug("Twig.prepare: ","Compiled ",e),e},b.output=function(e){var t=this.options["autoescape"];if(!t)return e.join("");const r="string"==typeof t?t:"html";t=e.map(e=>e=!e||!0===e.twigMarkup||e.twigMarkup===r||"html"===r&&"html_attr"===e.twigMarkup?e:b.filters.escape(e,[r]));return 0===t.length||0===(e=t.join("")).length?"":new b.Markup(e,!0)},b.Templates={loaders:{},parsers:{},registry:{}},b.validateId=function(e){if("prototype"===e)throw new b.Error(e+" is not a valid twig identifier");if(b.cache&&Object.hasOwnProperty.call(b.Templates.registry,e))throw new b.Error("There is already a template with the ID "+e);return!0},b.Templates.registerLoader=function(e,t,r){if("function"!=typeof t)throw new b.Error("Unable to add loader for "+e+": Invalid function reference given.");r&&(t=t.bind(r)),this.loaders[e]=t},b.Templates.unRegisterLoader=function(e){this.isRegisteredLoader(e)&&delete this.loaders[e]},b.Templates.isRegisteredLoader=function(e){return Object.hasOwnProperty.call(this.loaders,e)},b.Templates.registerParser=function(e,t,r){if("function"!=typeof t)throw new b.Error("Unable to add parser for "+e+": Invalid function regerence given.");r&&(t=t.bind(r)),this.parsers[e]=t},b.Templates.unRegisterParser=function(e){this.isRegisteredParser(e)&&delete this.parsers[e]},b.Templates.isRegisteredParser=function(e){return Object.hasOwnProperty.call(this.parsers,e)},b.Templates.save=function(e){if(void 0===e.id)throw new b.Error("Unable to save template with no id");b.Templates.registry[e.id]=e},b.Templates.load=function(e){return Object.hasOwnProperty.call(b.Templates.registry,e)?b.Templates.registry[e]:null},b.Templates.loadRemote=function(e,t,r,n){var s=void 0===t.id?e:t.id,o=b.Templates.registry[s];return b.cache&&void 0!==o?("function"==typeof r&&r(o),o):(t.parser=t.parser||"twig",t.id=s,void 0===t.async&&(t.async=!0),(this.loaders[t.method]||this.loaders.fs).call(this,e,t,r,n))},b.Block=function(e,t){this.template=e,this.token=t},b.Block.prototype.render=function(t,r){const n=t.template;let e;return t.template=this.template,(e=this.token.expression?b.expression.parseAsync.call(t,this.token.output,r):t.parseAsync(this.token.output,r)).then(e=>b.expression.parseAsync.call(t,{type:b.expression.type.string,value:e},r)).then(e=>(t.template=n,e))},b.ParseState=function(e,t,r){this.renderedBlocks={},this.overrideBlocks=void 0===t?{}:t,this.context=void 0===r?{}:r,this.macros={},this.nestingStack=[],this.template=e},b.ParseState.prototype.getBlock=function(e,t){let r;return r=void 0===(r=void 0===(r=!0!==t?this.overrideBlocks[e]:r)?this.template.getBlock(e,t):r)&&null!==this.template.parentTemplate?this.template.parentTemplate.getBlock(e):r},b.ParseState.prototype.getBlocks=function(e){let t={};return t={...t=!1!==e&&null!==this.template.parentTemplate&&this.template.parentTemplate!==this.template?this.template.parentTemplate.getBlocks():t,...this.template.getBlocks(),...this.overrideBlocks}},b.ParseState.prototype.getNestingStackToken=function(t){let r;return this.nestingStack.forEach(e=>{void 0===r&&e.type===t&&(r=e)}),r},b.ParseState.prototype.parse=function(e,t,r){const n=this;let s=[],o=null,i=!0;let a=!0;function p(e){s.push(e)}function l(e){void 0!==e.chain&&(a=e.chain),void 0!==e.context&&(n.context=e.context),void 0!==e.output&&s.push(e.output)}if(t&&(n.context=t),t=b.async.forEach(e,e=>{switch(b.log.debug("Twig.ParseState.parse: ","Parsing token: ",e),e.type){case b.token.type.raw:s.push(b.filters.raw(e.value));break;case b.token.type.logic:return b.logic.parseAsync.call(n,e.token,n.context,a).then(l);case b.token.type.comment:break;case b.token.type.outputWhitespacePre:case b.token.type.outputWhitespacePost:case b.token.type.outputWhitespaceBoth:case b.token.type.output:return b.log.debug("Twig.ParseState.parse: ","Output token: ",e.stack),b.expression.parseAsync.call(n,e.stack,n.context).then(p)}}).then(()=>(s=b.output.call(n.template,s),i=!1,s)).catch(e=>{r&&c(n,e),o=e}),r)return t;if(null!==o)return c(n,o);if(i)throw new b.Error("You are using Twig.js in sync mode in combination with async extensions.");return s},b.Template=function(e){var{data:e,id:t,base:r,path:n,url:s,name:o,method:i,options:a}=e;this.base=r,this.blocks={defined:{},imported:{}},this.id=t,this.method=i,this.name=o,this.options=a,this.parentTemplate=null,this.path=n,this.url=s,r="String",i=e,o=Object.prototype.toString.call(i).slice(8,-1),this.tokens=null!=i&&o===r?b.prepare.call(this,e):e,void 0!==t&&b.Templates.save(this)},b.Template.prototype.getBlock=function(e,t,r=!0){let n;return!0!==t&&(n=this.blocks.defined[e]),n=void 0===(n=r&&void 0===n?this.blocks.imported[e]:n)&&null!==this.parentTemplate?this.parentTemplate.getBlock(e,t,r=!1):n},b.Template.prototype.getBlocks=function(){return{...{},...this.blocks.imported,...this.blocks.defined}},b.Template.prototype.render=function(e,s,t){const o=this;return s=s||{},b.async.potentiallyAsync(o,t,()=>{const n=new b.ParseState(o,s.blocks,e);return n.parseAsync(o.tokens).then(e=>{let t;var r;return null!==o.parentTemplate?(o.options.allowInlineIncludes&&(t=b.Templates.load(o.parentTemplate))&&(t.options=o.options),t||(r=b.path.parsePath(o,o.parentTemplate),t=b.Templates.loadRemote(r,{method:o.getLoaderMethod(),base:o.base,async:!1,id:r,options:o.options})),o.parentTemplate=t,o.parentTemplate.renderAsync(n.context,{blocks:n.getBlocks(!1),isInclude:!0})):!0===s.isInclude?e:e.valueOf()})})},b.Template.prototype.importFile=function(e){var t;let r;if(this.url||!this.options.allowInlineIncludes)return t=b.path.parsePath(this,e),r=b.Templates.loadRemote(t,{method:this.getLoaderMethod(),base:this.base,async:!1,options:this.options,id:t});if(e=this.path?b.path.parsePath(this,e):e,r=(r=b.Templates.load(e))||b.Templates.loadRemote(null,{id:e,method:this.getLoaderMethod(),async:!1,path:e,options:this.options}))return r.options=this.options,r;throw new b.Error("Unable to find the template "+e)},b.Template.prototype.getLoaderMethod=function(){return this.path?"fs":this.url?"ajax":this.method||"fs"},b.Template.prototype.compile=function(e){return b.compiler.compile(this,e)},b.Markup=function(e,t){return"string"!=typeof e||((e=new String(e)).twigMarkup=void 0===t||t),e},b}},function(e,t){e.exports=function(s){return s.compiler={module:{}},s.compiler.compile=function(e,t){var r=JSON.stringify(e.tokens),e=e["id"];let n=null;if(t.module){if(void 0===s.compiler.module[t.module])throw new s.Error("Unable to find module type "+t.module);n=s.compiler.module[t.module](e,r,t.twig)}else n=s.compiler.wrap(e,r);return n},s.compiler.module={amd(e,t,r){return'define(["'+r+'"], function (Twig) {\n\tvar twig, templates;\ntwig = Twig.twig;\ntemplates = '+s.compiler.wrap(e,t)+"\n\treturn templates;\n});"},node(e,t){return'var twig = require("twig").twig;\nexports.template = '+s.compiler.wrap(e,t)},cjs2(e,t,r){return'module.declare([{ twig: "'+r+'" }], function (require, exports, module) {\n\tvar twig = require("twig").twig;\n\texports.template = '+s.compiler.wrap(e,t)+"\n});"}},s.compiler.wrap=function(e,t){return'twig({id:"'+e.replace('"','\\"')+'", data:'+t+", precompiled: true});\n"},s}},function(e,t,r){e.exports=function(u){"use strict";function l(e,t,r){return t?u.expression.parseAsync.call(e,t,r):u.Promise.resolve(!1)}for(u.expression={},r(43)(u),u.expression.reservedWords=["true","false","null","TRUE","FALSE","NULL","_context","and","b-and","or","b-or","b-xor","in","not in","if","matches","starts","ends","with"],u.expression.type={comma:"Twig.expression.type.comma",operator:{unary:"Twig.expression.type.operator.unary",binary:"Twig.expression.type.operator.binary"},string:"Twig.expression.type.string",bool:"Twig.expression.type.bool",slice:"Twig.expression.type.slice",array:{start:"Twig.expression.type.array.start",end:"Twig.expression.type.array.end"},object:{start:"Twig.expression.type.object.start",end:"Twig.expression.type.object.end"},parameter:{start:"Twig.expression.type.parameter.start",end:"Twig.expression.type.parameter.end"},subexpression:{start:"Twig.expression.type.subexpression.start",end:"Twig.expression.type.subexpression.end"},key:{period:"Twig.expression.type.key.period",brackets:"Twig.expression.type.key.brackets"},filter:"Twig.expression.type.filter",_function:"Twig.expression.type._function",variable:"Twig.expression.type.variable",number:"Twig.expression.type.number",_null:"Twig.expression.type.null",context:"Twig.expression.type.context",test:"Twig.expression.type.test"},u.expression.set={operations:[u.expression.type.filter,u.expression.type.operator.unary,u.expression.type.operator.binary,u.expression.type.array.end,u.expression.type.object.end,u.expression.type.parameter.end,u.expression.type.subexpression.end,u.expression.type.comma,u.expression.type.test],expressions:[u.expression.type._function,u.expression.type.bool,u.expression.type.string,u.expression.type.variable,u.expression.type.number,u.expression.type._null,u.expression.type.context,u.expression.type.parameter.start,u.expression.type.array.start,u.expression.type.object.start,u.expression.type.subexpression.start,u.expression.type.operator.unary]},u.expression.set.operationsExtended=u.expression.set.operations.concat([u.expression.type.key.period,u.expression.type.key.brackets,u.expression.type.slice]),u.expression.fn={compile:{push(e,t,r){r.push(e)},pushBoth(e,t,r){r.push(e),t.push(e)}},parse:{push(e,t){t.push(e)},pushValue(e,t){t.push(e.value)}}},u.expression.definitions=[{type:u.expression.type.test,regex:/^is\s+(not)?\s*([a-zA-Z_]\w*(\s?(?:as|by))?)/,next:u.expression.set.operations.concat([u.expression.type.parameter.start]),compile(e,t,r){e.filter=e.match[2],e.modifier=e.match[1],delete e.match,delete e.value,r.push(e)},parse(t,r,e){const n=r.pop();return l(this,t.params,e).then(e=>{e=u.test(t.filter,n,e);"not"===t.modifier?r.push(!e):r.push(e)})}},{type:u.expression.type.comma,regex:/^,/,next:u.expression.set.expressions.concat([u.expression.type.array.end,u.expression.type.object.end]),compile(e,t,r){let n=t.length-1;var s;for(delete e.match,delete e.value;0<=n;n--){if((s=t.pop()).type===u.expression.type.object.start||s.type===u.expression.type.parameter.start||s.type===u.expression.type.array.start){t.push(s);break}r.push(s)}r.push(e)}},{type:u.expression.type.number,regex:/^-?\d+(\.\d+)?/,next:u.expression.set.operations,compile(e,t,r){e.value=Number(e.value),r.push(e)},parse:u.expression.fn.parse.pushValue},{type:u.expression.type.operator.binary,regex:/(^\?\?|^\?:|^(b-and)|^(b-or)|^(b-xor)|^[+\-~%?]|^[:](?!\d\])|^[!=]==?|^[!<>]=?|^\*\*?|^\/\/?|^(and)[(|\s+]|^(or)[(|\s+]|^(in)[(|\s+]|^(not in)[(|\s+]|^(matches)|^(starts with)|^(ends with)|^\.\.)/,next:u.expression.set.expressions,transform(e,t){switch(e[0]){case"and(":case"or(":case"in(":case"not in(":return t[t.length-1].value=e[2],e[0];default:return""}},compile(e,t,r){delete e.match,e.value=e.value.trim();var n=e["value"],s=u.expression.operator.lookup(n,e);for(u.log.trace("Twig.expression.compile: ","Operator: ",s," from ",n);0<t.length&&(t[t.length-1].type===u.expression.type.operator.unary||t[t.length-1].type===u.expression.type.operator.binary)&&(s.associativity===u.expression.operator.leftToRight&&s.precidence>=t[t.length-1].precidence||s.associativity===u.expression.operator.rightToLeft&&s.precidence>t[t.length-1].precidence);){var o=t.pop();r.push(o)}if(":"===n){if(!t[t.length-1]||"?"!==t[t.length-1].value){n=r.pop();if(n.type===u.expression.type.string||n.type===u.expression.type.variable)e.key=n.value;else if(n.type===u.expression.type.number)e.key=n.value.toString();else{if(!n.expression||n.type!==u.expression.type.parameter.end&&n.type!==u.expression.type.subexpression.end)throw new u.Error("Unexpected value before ':' of "+n.type+" = "+n.value);e.params=n.params}r.push(e)}}else t.push(s)},parse(t,r,n){if(t.key)r.push(t);else{if(t.params)return u.expression.parseAsync.call(this,t.params,n).then(e=>{t.key=e,r.push(t),n.loop||delete t.params});u.expression.operator.parse(t.value,r)}}},{type:u.expression.type.operator.unary,regex:/(^not\s+)/,next:u.expression.set.expressions,compile(e,t,r){delete e.match,e.value=e.value.trim();var n=e["value"],s=u.expression.operator.lookup(n,e);for(u.log.trace("Twig.expression.compile: ","Operator: ",s," from ",n);0<t.length&&(t[t.length-1].type===u.expression.type.operator.unary||t[t.length-1].type===u.expression.type.operator.binary)&&(s.associativity===u.expression.operator.leftToRight&&s.precidence>=t[t.length-1].precidence||s.associativity===u.expression.operator.rightToLeft&&s.precidence>t[t.length-1].precidence);){var o=t.pop();r.push(o)}t.push(s)},parse(e,t){u.expression.operator.parse(e.value,t)}},{type:u.expression.type.string,regex:/^(["'])(?:(?=(\\?))\2[\s\S])*?\1/,next:u.expression.set.operationsExtended,compile(e,t,r){let n=e["value"];delete e.match,n='"'===n.slice(0,1)?n.replace('\\"','"'):n.replace("\\'","'"),e.value=n.slice(1,-1).replace(/\\n/g,"\n").replace(/\\r/g,"\r"),u.log.trace("Twig.expression.compile: ","String value: ",e.value),r.push(e)},parse:u.expression.fn.parse.pushValue},{type:u.expression.type.subexpression.start,regex:/^\(/,next:u.expression.set.expressions.concat([u.expression.type.subexpression.end]),compile(e,t,r){e.value="(",r.push(e),t.push(e)},parse:u.expression.fn.parse.push},{type:u.expression.type.subexpression.end,regex:/^\)/,next:u.expression.set.operationsExtended,validate(e,t){let r=t.length-1,n=!1,s=!1,o=0;for(;!n&&0<=r;){var i=t[r];(n=i.type===u.expression.type.subexpression.start)&&s&&(s=!1,n=!1),i.type===u.expression.type.parameter.start?o++:i.type===u.expression.type.parameter.end?o--:i.type===u.expression.type.subexpression.end&&(s=!0),r--}return n&&0===o},compile(e,t,r){let n;var s=e;for(n=t.pop();0<t.length&&n.type!==u.expression.type.subexpression.start;)r.push(n),n=t.pop();for(var o=[];e.type!==u.expression.type.subexpression.start;)o.unshift(e),e=r.pop();o.unshift(e),void 0===(n=t[t.length-1])||n.type!==u.expression.type._function&&n.type!==u.expression.type.filter&&n.type!==u.expression.type.test&&n.type!==u.expression.type.key.brackets?(s.expression=!0,o.pop(),o.shift(),s.params=o,r.push(s)):(s.expression=!1,n.params=o)},parse(e,t,r){if(e.expression)return u.expression.parseAsync.call(this,e.params,r).then(e=>{t.push(e)});throw new u.Error("Unexpected subexpression end when token is not marked as an expression")}},{type:u.expression.type.parameter.start,regex:/^\(/,next:u.expression.set.expressions.concat([u.expression.type.parameter.end]),validate(e,t){t=t[t.length-1];return t&&!u.expression.reservedWords.includes(t.value.trim())},compile:u.expression.fn.compile.pushBoth,parse:u.expression.fn.parse.push},{type:u.expression.type.parameter.end,regex:/^\)/,next:u.expression.set.operationsExtended,compile(e,t,r){let n;var s=e;for(n=t.pop();0<t.length&&n.type!==u.expression.type.parameter.start;)r.push(n),n=t.pop();for(var o=[];e.type!==u.expression.type.parameter.start;)o.unshift(e),e=r.pop();o.unshift(e),void 0===(e=r[r.length-1])||e.type!==u.expression.type._function&&e.type!==u.expression.type.filter&&e.type!==u.expression.type.test&&e.type!==u.expression.type.key.brackets?(s.expression=!0,o.pop(),o.shift(),s.params=o,r.push(s)):(s.expression=!1,e.params=o)},parse(e,t,r){var n=[];let s=!1;var o;if(e.expression)return u.expression.parseAsync.call(this,e.params,r).then(e=>{t.push(e)});for(;0<t.length;){if((o=t.pop())&&o.type&&o.type===u.expression.type.parameter.start){s=!0;break}n.unshift(o)}if(!s)throw new u.Error("Expected end of parameter set.");t.push(n)}},{type:u.expression.type.slice,regex:/^\[(\d*:\d*)\]/,next:u.expression.set.operationsExtended,compile(e,t,r){var n=e.match[1].split(":"),s=n[0]?parseInt(n[0],10):void 0,n=n[1]?parseInt(n[1],10):void 0;e.value="slice",e.params=[s,n],n||(e.params=[s]),r.push(e)},parse(e,t){var r=t.pop(),n=e["params"];t.push(u.filter.call(this,e.value,r,n))}},{type:u.expression.type.array.start,regex:/^\[/,next:u.expression.set.expressions.concat([u.expression.type.array.end]),compile:u.expression.fn.compile.pushBoth,parse:u.expression.fn.parse.push},{type:u.expression.type.array.end,regex:/^\]/,next:u.expression.set.operationsExtended,compile(e,t,r){let n=t.length-1;for(var s;0<=n&&(s=t.pop()).type!==u.expression.type.array.start;n--)r.push(s);r.push(e)},parse(e,t){var r=[];let n=!1;for(var s;0<t.length;){if((s=t.pop())&&s.type&&s.type===u.expression.type.array.start){n=!0;break}r.unshift(s)}if(!n)throw new u.Error("Expected end of array.");t.push(r)}},{type:u.expression.type.object.start,regex:/^\{/,next:u.expression.set.expressions.concat([u.expression.type.object.end]),compile:u.expression.fn.compile.pushBoth,parse:u.expression.fn.parse.push},{type:u.expression.type.object.end,regex:/^\}/,next:u.expression.set.operationsExtended,compile(e,t,r){let n=t.length-1;for(var s;0<=n&&(!(s=t.pop())||s.type!==u.expression.type.object.start);n--)r.push(s);r.push(e)},parse(e,t){var r={};let n=!1;var s;let o=!1,i=null;for(;0<t.length;){if((s=t.pop())&&s.type&&s.type===u.expression.type.object.start){n=!0;break}if(s&&s.type&&(s.type===u.expression.type.operator.binary||s.type===u.expression.type.operator.unary)&&s.key){if(!o)throw new u.Error("Missing value for key '"+s.key+"' in object definition.");r[s.key]=i,void 0===r._keys&&(r._keys=[]),r._keys.unshift(s.key),i=null,o=!1}else o=!0,i=s}if(!n)throw new u.Error("Unexpected end of object.");t.push(r)}},{type:u.expression.type.filter,regex:/^\|\s?([a-zA-Z_][a-zA-Z0-9_-]*)/,next:u.expression.set.operationsExtended.concat([u.expression.type.parameter.start]),compile(e,t,r){e.value=e.match[1],r.push(e)},parse(t,r,e){const n=r.pop(),s=this;return l(s,t.params,e).then(e=>u.filter.call(s,t.value,n,e)).then(e=>{r.push(e)})}},{type:u.expression.type._function,regex:/^([a-zA-Z_]\w*)\s*\(/,next:u.expression.type.parameter.start,validate(e){return e[1]&&!u.expression.reservedWords.includes(e[1])},transform(){return"("},compile(e,t,r){var n=e.match[1];e.fn=n,delete e.match,delete e.value,r.push(e)},parse(e,t,r){const n=this,s=e["fn"];let o;return l(n,e.params,r).then(e=>{if(u.functions[s])o=u.functions[s].apply(n,e);else{if("function"!=typeof r[s])throw new u.Error(s+" function does not exist and is not defined in the context");o=r[s](...e)}return o}).then(e=>{t.push(e)})}},{type:u.expression.type.variable,regex:/^[a-zA-Z_]\w*/,next:u.expression.set.operationsExtended.concat([u.expression.type.parameter.start]),compile:u.expression.fn.compile.push,validate(e){return!u.expression.reservedWords.includes(e[0])},parse(t,r,e){const n=this;return u.expression.resolveAsync.call(n,e[t.value],e).then(e=>{if(n.template.options.strictVariables&&void 0===e)throw new u.Error('Variable "'+t.value+'" does not exist.');r.push(e)})}},{type:u.expression.type.key.period,regex:/^\.(\w+)/,next:u.expression.set.operationsExtended.concat([u.expression.type.parameter.start]),compile(e,t,r){e.key=e.match[1],delete e.match,delete e.value,r.push(e)},parse(e,t,r,n){const s=this,o=e["key"],i=t.pop();let a;if(i&&!Object.prototype.hasOwnProperty.call(i,o)&&s.template.options.strictVariables)throw 0<Object.keys(i).length?new u.Error('Key "'+o+'" for object with keys "'+Object.keys(i).join(", ")+'" does not exist.'):new u.Error('Key "'+o+'" does not exist as the object is empty.');return l(s,e.params,r).then(e=>{var t;return a=null===i||void 0===i?void 0:(t=function(e){return e.slice(0,1).toUpperCase()+e.slice(1)},"object"==typeof i&&o in i?i[o]:i["get"+t(o)]?i["get"+t(o)]:i["is"+t(o)]?i["is"+t(o)]:void 0),u.expression.resolveAsync.call(s,a,r,e,n,i)}).then(e=>{t.push(e)})}},{type:u.expression.type.key.brackets,regex:/^\[([^\]:]*)\]/,next:u.expression.set.operationsExtended.concat([u.expression.type.parameter.start]),compile(e,t,r){var n=e.match[1];delete e.value,delete e.match,e.stack=u.expression.compile({value:n}).stack,r.push(e)},parse(t,r,n,s){const o=this;let i=null,a,p;return l(o,t.params,n).then(e=>(i=e,u.expression.parseAsync.call(o,t.stack,n))).then(e=>{var t;if((a=r.pop())&&!Object.prototype.hasOwnProperty.call(a,e)&&o.template.options.strictVariables)throw 0<(t=Object.keys(a)).length?new u.Error('Key "'+e+'" for array with keys "'+t.join(", ")+'" does not exist.'):new u.Error('Key "'+e+'" does not exist as the array is empty.');return null===a||void 0===a?null:(p="object"==typeof a&&e in a?a[e]:null,u.expression.resolveAsync.call(o,p,a,i,s))}).then(e=>{r.push(e)})}},{type:u.expression.type._null,regex:/^(null|NULL|none|NONE)/,next:u.expression.set.operations,compile(e,t,r){delete e.match,e.value=null,r.push(e)},parse:u.expression.fn.parse.pushValue},{type:u.expression.type.context,regex:/^_context/,next:u.expression.set.operationsExtended.concat([u.expression.type.parameter.start]),compile:u.expression.fn.compile.push,parse(e,t,r){t.push(r)}},{type:u.expression.type.bool,regex:/^(true|TRUE|false|FALSE)/,next:u.expression.set.operations,compile(e,t,r){e.value="true"===e.match[0].toLowerCase(),delete e.match,r.push(e)},parse:u.expression.fn.parse.pushValue}],u.expression.resolveAsync=function(t,r,e,n,s){const o=this;if("function"!=typeof t)return u.Promise.resolve(t);let i=u.Promise.resolve(e);if(n&&n.type===u.expression.type.parameter.end)i=i.then(()=>n.params&&u.expression.parseAsync.call(o,n.params,r,!0)).then(e=>(n.cleanup=!0,e));return i.then(e=>t.apply(s||r,e||[]))},u.expression.resolve=function(e,t,r,n,s){return u.async.potentiallyAsync(this,!1,function(){return u.expression.resolveAsync.call(this,e,t,r,n,s)})},u.expression.handler={},u.expression.extendType=function(e){u.expression.type[e]="Twig.expression.type."+e},u.expression.extend=function(e){if(!e.type)throw new u.Error("Unable to extend logic definition. No type provided for "+e);u.expression.handler[e.type]=e};0<u.expression.definitions.length;)u.expression.extend(u.expression.definitions.shift());return u.expression.tokenize=function(e){const s=[];let o=0,i=null,a;var t;let r,p,l,c=[];function n(...e){let t=arguments.length-2;for(var r,n=new Array(t);0<t--;)n[t]=e[t];return u.log.trace("Twig.expression.tokenize","Matched a ",a," regular expression of ",n),i&&!i.includes(a)?(c.push(a+" cannot follow a "+s[s.length-1].type+" at template:"+o+" near '"+n[0].slice(0,20)+"...'"),n[0]):(r=u.expression.handler[a]).validate&&!r.validate(n,s)?n[0]:(c=[],s.push({type:a,value:n[0],match:n}),l=!0,i=p,o+=n[0].length,r.transform?r.transform(n,s):"")}for(u.log.debug("Twig.expression.tokenize","Tokenizing expression ",e);0<e.length;){for(a in e=e.trim(),u.expression.handler)if(Object.hasOwnProperty.call(u.expression.handler,a)){if(p=u.expression.handler[a].next,t=u.expression.handler[a].regex,u.log.trace("Checking type ",a," on ",e),l=!1,Array.isArray(t))for(r=t.length;0<r--;)e=e.replace(t[r],n);else e=e.replace(t,n);if(l)break}if(!l)throw 0<c.length?new u.Error(c.join(" OR ")):new u.Error("Unable to parse '"+e+"' at template position"+o)}return u.log.trace("Twig.expression.tokenize","Tokenized to ",s),s},u.expression.compile=function(e){var t,r=e.value,n=u.expression.tokenize(r),s=[],o=[],i=null;for(u.log.trace("Twig.expression.compile: ","Compiling ",r);0<n.length;)t=n.shift(),i=u.expression.handler[t.type],u.log.trace("Twig.expression.compile: ","Compiling ",t),i.compile(t,o,s),u.log.trace("Twig.expression.compile: ","Stack is",o),u.log.trace("Twig.expression.compile: ","Output is",s);for(;0<o.length;)s.push(o.pop());return u.log.trace("Twig.expression.compile: ","Final output is",s),e.stack=s,delete e.value,e},u.expression.parse=function(o,i,n,e){const a=this,p=(Array.isArray(o)||(o=[o]),[]),l=[],c=u.expression.type.operator.binary;return u.async.potentiallyAsync(a,e,()=>u.async.forEach(o,(e,t)=>{var r=null;let n=null,s;if(!e.cleanup)return o.length>t+1&&(n=o[t+1]),(r=u.expression.handler[e.type]).parse&&(s=r.parse.call(a,e,p,i,n)),e.type===c&&i.loop&&l.push(e),s}).then(()=>{let e=l.length;for(var t,r=null;0<e--;)(r=l[e]).params&&r.key&&delete r.key;return n&&(t=p.splice(0),p.push(t)),p.pop()}))},u}},function(e,t){e.exports=function(a){"use strict";a.expression.operator={leftToRight:"leftToRight",rightToLeft:"rightToLeft"};function p(e,t){if(null==t)return null;if(void 0!==t.indexOf)return(e===t||""!==e)&&t.includes(e);let r;for(r in t)if(Object.hasOwnProperty.call(t,r)&&t[r]===e)return!0;return!1}return a.expression.operator.lookup=function(e,t){switch(e){case"..":t.precidence=20,t.associativity=a.expression.operator.leftToRight;break;case",":t.precidence=18,t.associativity=a.expression.operator.leftToRight;break;case"?:":case"?":case":":t.precidence=16,t.associativity=a.expression.operator.rightToLeft;break;case"??":t.precidence=15,t.associativity=a.expression.operator.rightToLeft;break;case"or":t.precidence=14,t.associativity=a.expression.operator.leftToRight;break;case"and":t.precidence=13,t.associativity=a.expression.operator.leftToRight;break;case"b-or":t.precidence=12,t.associativity=a.expression.operator.leftToRight;break;case"b-xor":t.precidence=11,t.associativity=a.expression.operator.leftToRight;break;case"b-and":t.precidence=10,t.associativity=a.expression.operator.leftToRight;break;case"==":case"!=":t.precidence=9,t.associativity=a.expression.operator.leftToRight;break;case"<":case"<=":case">":case">=":case"not in":case"in":t.precidence=8,t.associativity=a.expression.operator.leftToRight;break;case"~":case"+":case"-":t.precidence=6,t.associativity=a.expression.operator.leftToRight;break;case"//":case"**":case"*":case"/":case"%":t.precidence=5,t.associativity=a.expression.operator.leftToRight;break;case"not":t.precidence=3,t.associativity=a.expression.operator.rightToLeft;break;case"matches":case"starts with":case"ends with":t.precidence=8,t.associativity=a.expression.operator.leftToRight;break;default:throw new a.Error("Failed to lookup operator: "+e+" is an unknown operator.")}return t.operator=e,t},a.expression.operator.parse=function(e,t){a.log.trace("Twig.expression.operator.parse: ","Handling ",e);let r,n,s;var o,i;switch("?"===e&&(s=t.pop()),n=t.pop(),"not"!==e&&(r=t.pop()),"in"!==e&&"not in"!==e&&"??"!==e&&(r&&Array.isArray(r)&&(r=r.length),"?"!==e)&&n&&Array.isArray(n)&&(n=n.length),"matches"===e&&n&&"string"==typeof n&&(o=(i=n.match(/^\/(.*)\/([gims]?)$/))[1],i=i[2],n=new RegExp(o,i)),e){case":":break;case"??":void 0===r&&(r=n,n=s,s=void 0),void 0!==r&&null!==r?t.push(r):t.push(n);break;case"?:":a.lib.boolval(r)?t.push(r):t.push(n);break;case"?":void 0===r&&(r=n,n=s,s=void 0),a.lib.boolval(r)?t.push(n):t.push(s);break;case"+":n=parseFloat(n),r=parseFloat(r),t.push(r+n);break;case"-":n=parseFloat(n),r=parseFloat(r),t.push(r-n);break;case"*":n=parseFloat(n),r=parseFloat(r),t.push(r*n);break;case"/":n=parseFloat(n),r=parseFloat(r),t.push(r/n);break;case"//":n=parseFloat(n),r=parseFloat(r),t.push(Math.floor(r/n));break;case"%":n=parseFloat(n),r=parseFloat(r),t.push(r%n);break;case"~":t.push((void 0!==r&&null!==r?r.toString():"")+(void 0!==n&&null!==n?n.toString():""));break;case"not":case"!":t.push(!a.lib.boolval(n));break;case"<":t.push(r<n);break;case"<=":t.push(r<=n);break;case">":t.push(r>n);break;case">=":t.push(r>=n);break;case"===":t.push(r===n);break;case"==":t.push(r==n);break;case"!==":t.push(r!==n);break;case"!=":t.push(r!=n);break;case"or":t.push(a.lib.boolval(r)||a.lib.boolval(n));break;case"b-or":t.push(r|n);break;case"b-xor":t.push(r^n);break;case"and":t.push(a.lib.boolval(r)&&a.lib.boolval(n));break;case"b-and":t.push(r&n);break;case"**":t.push(r**n);break;case"not in":t.push(!p(r,n));break;case"in":t.push(p(r,n));break;case"matches":t.push(n.test(r));break;case"starts with":t.push("string"==typeof r&&0===r.indexOf(n));break;case"ends with":t.push("string"==typeof r&&r.includes(n,r.length-n.length));break;case"..":t.push(a.functions.range(r,n));break;default:throw new a.Error("Failed to parse operator: "+e+" is an unknown operator.")}},a}},function(e,t){e.exports=function(u){function o(e,t){var r=Object.prototype.toString.call(t).slice(8,-1);return null!=t&&r===e}return u.filters={upper(e){return"string"!=typeof e?e:e.toUpperCase()},lower(e){return"string"!=typeof e?e:e.toLowerCase()},capitalize(e){return"string"!=typeof e?e:e.slice(0,1).toUpperCase()+e.toLowerCase().slice(1)},title(e){return"string"!=typeof e?e:e.toLowerCase().replace(/(^|\s)([a-z])/g,(e,t,r)=>t+r.toUpperCase())},length(e){return u.lib.is("Array",e)||"string"==typeof e?e.length:u.lib.is("Object",e)?(void 0===e._keys?Object.keys(e):e._keys).length:0},reverse(e){var t;return o("Array",e)?e.reverse():o("String",e)?e.split("").reverse().join(""):o("Object",e)?(t=e._keys||Object.keys(e).reverse(),e._keys=t,e):void 0},sort(s){var e;return o("Array",s)?s.sort():o("Object",s)?(delete s._keys,e=Object.keys(s).sort((e,t)=>{var r;let n;return s[e]>s[t]==!(s[e]<=s[t])?s[e]>s[t]?1:s[e]<s[t]?-1:0:isNaN(r=parseFloat(s[e]))||isNaN(n=parseFloat(s[t]))?"string"==typeof s[e]?s[e]>s[t].toString()?1:s[e]<s[t].toString()?-1:0:"string"==typeof s[t]?s[e].toString()>s[t]?1:s[e].toString()<s[t]?-1:0:null:r>n?1:r<n?-1:0}),s._keys=e,s):void 0},keys(t){if(null!=t){var e=t._keys||Object.keys(t);const r=[];return e.forEach(e=>{"_keys"!==e&&Object.hasOwnProperty.call(t,e)&&r.push(e)}),r}},url_encode(t){if(null!=t){if(u.lib.is("Object",t)){const o=function(r,n){const s=[];return(r._keys||Object.keys(r)).forEach(e=>{var t;Object.prototype.hasOwnProperty.call(r,e)&&(t=n?n+"["+e+"]":e,e=r[e],s.push(u.lib.is("Object",e)||Array.isArray(e)?o(e,t):encodeURIComponent(t)+"="+encodeURIComponent(e)))}),s.join("&amp;")};return o(t)}let e=encodeURIComponent(t);return e=e.replace("'","%27")}},join(r,n){if(null!=r){let e="",t=[];return n&&n[0]&&(e=n[0]),o("Array",r)?t=r:(r._keys||Object.keys(r)).forEach(e=>{"_keys"!==e&&Object.hasOwnProperty.call(r,e)&&t.push(r[e])}),t.join(e)}},default(e,t){if(void 0!==t&&1<t.length)throw new u.Error("default filter expects one argument");return null==e||""===e?void 0===t?"":t[0]:e},json_encode(t){if(null==t)return"null";if("object"==typeof t&&o("Array",t)){const r=[];return t.forEach(e=>{r.push(u.filters.json_encode(e))}),"["+r.join(",")+"]"}if("object"==typeof t&&o("Date",t))return'"'+t.toISOString()+'"';if("object"!=typeof t)return JSON.stringify(t);{var e=t._keys||Object.keys(t);const n=[];return e.forEach(e=>{n.push(JSON.stringify(e)+":"+u.filters.json_encode(t[e]))}),"{"+n.join(",")+"}"}},merge(t,e){let r=[],n=0,s=[];if(o("Array",t)?e.forEach(e=>{o("Array",e)||(r={})}):r={},o("Array",r)||(r._keys=[]),o("Array",t)?t.forEach(e=>{r._keys&&r._keys.push(n),r[n]=e,n++}):(s=t._keys||Object.keys(t)).forEach(e=>{r[e]=t[e],r._keys.push(e);e=parseInt(e,10);!isNaN(e)&&e>=n&&(n=e+1)}),e.forEach(t=>{o("Array",t)?t.forEach(e=>{r._keys&&r._keys.push(n),r[n]=e,n++}):(s=t._keys||Object.keys(t)).forEach(e=>{r[e]||r._keys.push(e),r[e]=t[e];e=parseInt(e,10);!isNaN(e)&&e>=n&&(n=e+1)})}),0===e.length)throw new u.Error("Filter merge expects at least one parameter");return r},date(e,t){e=u.functions.date(e),t=t&&Boolean(t.length)?t[0]:"F j, Y H:i";return u.lib.date(t.replace(/\\\\/g,"\\"),e)},date_modify(t,r){if(null!=t){if(void 0===r||1!==r.length)throw new u.Error("date_modify filter expects 1 argument");r=r[0];let e;return u.lib.is("Date",t)&&(e=u.lib.strtotime(r,t.getTime()/1e3)),u.lib.is("String",t)&&(e=u.lib.strtotime(r,u.lib.strtotime(t))),u.lib.is("Number",t)&&(e=u.lib.strtotime(r,t)),new Date(1e3*e)}},replace(t,r){if(null!=t){var n=r[0];let e;for(e in n)Object.hasOwnProperty.call(n,e)&&"_keys"!==e&&(t=u.lib.replaceAll(t,e,n[e]));return t}},format(e,t){if(null!=e)return u.lib.vsprintf(e,t)},striptags(e,t){if(null!=e)return u.lib.stripTags(e,t)},escape(r,t){if(null!=r&&""!==r){let e="html";if("html"===(e=t&&Boolean(t.length)&&!0!==t[0]?t[0]:e))return t=r.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),new u.Markup(t,"html");if("js"===e){var n,s,o,i=r.toString();let t="";for(let e=0;e<i.length;e++)i[e].match(/^[a-zA-Z0-9,._]$/)?t+=i[e]:(n=i.charAt(e),s=i.charCodeAt(e),o={"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},t+=o[n]||u.lib.sprintf("\\u%04s",s.toString(16).toUpperCase()));return new u.Markup(t,"js")}if("css"===e){var a,p=r.toString();let t="";for(let e=0;e<p.length;e++)p[e].match(/^[a-zA-Z0-9]$/)?t+=p[e]:(a=p.charCodeAt(e),t+="\\"+a.toString(16).toUpperCase()+" ");return new u.Markup(t,"css")}if("url"===e)return t=u.filters.url_encode(r),new u.Markup(t,"url");if("html_attr"!==e)throw new u.Error("escape strategy unsupported");{var l,c=r.toString();let t="";for(let e=0;e<c.length;e++)c[e].match(/^[a-zA-Z0-9,.\-_]$/)?t+=c[e]:c[e].match(/^[&<>"]$/)?t+=c[e].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):(l=c.charCodeAt(e),t+=l<=31&&9!==l&&10!==l&&13!==l?"&#xFFFD;":l<128?u.lib.sprintf("&#x%02s;",l.toString(16).toUpperCase()):u.lib.sprintf("&#x%04s;",l.toString(16).toUpperCase()));return new u.Markup(t,"html_attr")}}},e(e,t){return u.filters.escape(e,t)},nl2br(e){var t,r;if(null!=e&&""!==e)return r="<br />"+(t="BACKSLASH_n_replace"),e=u.filters.escape(e).replace(/\r\n/g,r).replace(/\r/g,r).replace(/\n/g,r),e=u.lib.replaceAll(e,t,"\n"),new u.Markup(e)},number_format(e,t){var r=t&&t[0]?t[0]:void 0,n=t&&void 0!==t[1]?t[1]:".",t=t&&void 0!==t[2]?t[2]:",",e=String(e).replace(/[^0-9+\-Ee.]/g,""),e=isFinite(Number(e))?Number(e):0,r=isFinite(Number(r))?Math.abs(r):0,s="";return 3<(s=(r?function(e,t){t=10**t;return String(Math.round(e*t)/t)}(e,r):String(Math.round(e))).split("."))[0].length&&(s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,t)),(s[1]||"").length<r&&(s[1]=s[1]||"",s[1]+=new Array(r-s[1].length+1).join("0")),s.join(n)},trim(e,n){if(null!=e){let t=String(e),r;r=n&&n[0]?String(n[0]):" \n\r\t\f\v\u2028\u2029";for(let e=0;e<t.length;e++)if(!r.includes(t.charAt(e))){t=t.slice(Math.max(0,e));break}for(let e=t.length-1;0<=e;e--)if(!r.includes(t.charAt(e))){t=t.slice(0,Math.max(0,e+1));break}return r.includes(t.charAt(0))?"":t}},truncate(e,t){let r=30,n=!1,s="...";if(e=String(e),t&&(t[0]&&(r=t[0]),t[1]&&(n=t[1]),t[2])&&(s=t[2]),e.length>r){if(n&&-1===(r=e.indexOf(" ",r)))return e;e=e.slice(0,r)+s}return e},slice(t,e){if(null!=t){if(void 0===e||0===e.length)throw new u.Error("slice filter expects at least 1 argument");var r=e[0]||0,n=1<e.length?e[1]:t.length,s=0<=r?r:Math.max(t.length+r,0);if(u.lib.is("Array",t)){var o=[];for(let e=s;e<s+n&&e<t.length;e++)o.push(t[e]);return o}if(u.lib.is("String",t))return t.slice(s,s+n);throw new u.Error("slice filter expects value to be an array or string")}},abs(e){if(null!=e)return Math.abs(e)},first(e){if(o("Array",e))return e[0];if(o("Object",e)){if("_keys"in e)return e[e._keys[0]]}else if("string"==typeof e)return e.slice(0,1)},split(e,t){if(null!=e){if(void 0===t||0===t.length||2<t.length)throw new u.Error("split filter expects 1 or 2 argument");if(u.lib.is("String",e)){var r=t[0],n=t[1],s=e.split(r);if(void 0===n)return s;if(n<0)return e.split(r,s.length+n);var o=[];if(""===r)for(;0<s.length;){let t="";for(let e=0;e<n&&0<s.length;e++)t+=s.shift();o.push(t)}else{for(let e=0;e<n-1&&0<s.length;e++)o.push(s.shift());0<s.length&&o.push(s.join(r))}return o}throw new u.Error("split filter expects value to be a string")}},last(t){if(u.lib.is("Object",t)){let e;return t[(e=void 0===t._keys?Object.keys(t):t._keys)[e.length-1]]}return u.lib.is("Number",t)?t.toString().slice(-1):t[t.length-1]},raw(e){return new u.Markup(e||"")},batch(e,t){var r,n=t.shift(),s=t.shift();let o;if(!u.lib.is("Array",e))throw new u.Error("batch filter expects items to be an array");if(!u.lib.is("Number",n))throw new u.Error("batch filter expects size to be a number");n=Math.ceil(n),t=u.lib.chunkArray(e,n);if(s&&e.length%n!=0){for(r=t.pop(),o=n-r.length;o--;)r.push(s);t.push(r)}return t},round(e,t){var r=0<(t=t||[]).length?t[0]:0,t=1<t.length?t[1]:"common";if(e=parseFloat(e),r&&!u.lib.is("Number",r))throw new u.Error("round filter expects precision to be a number");if("common"===t)return u.lib.round(e,r);if(u.lib.is("Function",Math[t]))return Math[t](e*10**r)/10**r;throw new u.Error("round filter expects method to be 'floor', 'ceil', or 'common'")},spaceless(e){return e.replace(/>\s+</g,"><").trim()}},u.filter=function(e,t,r){if(u.filters[e])return u.filters[e].call(this,t,r);throw new u.Error("Unable to find filter "+e)},u.filter.extend=function(e,t){u.filters[e]=t},u}},function(l,e,t){l.exports=function(p){return p.functions={range(e,t,r){var n=[];let s,o;var i=r||1;let a=!1;if(o=isNaN(e)||isNaN(t)?isNaN(e)&&isNaN(t)?(a=!0,s=e.charCodeAt(0),t.charCodeAt(0)):(s=isNaN(e)?0:e,isNaN(t)?0:t):(s=parseInt(e,10),parseInt(t,10)),!(s>o))for(;s<=o;)n.push(a?String.fromCharCode(s):s),s+=i;else for(;s>=o;)n.push(a?String.fromCharCode(s):s),s-=i;return n},cycle(e,t){return e[t%e.length]},dump(...e){e=[...e];const r="\n",n="  ";let s=0,o="";const i=function(e){let t="";for(;0<e;)e--,t+=n;return t},a=function(e){o+=i(s),"object"==typeof e?t(e):"function"==typeof e?o+="function()"+r:"string"==typeof e?o+="string("+e.length+') "'+e+'"'+r:"number"==typeof e?o+="number("+e+")"+r:"boolean"==typeof e&&(o+="bool("+e+")"+r)},t=function(e){let t;if(null===e)o+="NULL"+r;else if(void 0===e)o+="undefined"+r;else if("object"==typeof e){for(t in o+=i(s)+typeof e,s++,o+="("+function(e){let t=0,r;for(r in e)Object.hasOwnProperty.call(e,r)&&t++;return t}(e)+") {"+r,e)Object.hasOwnProperty.call(e,t)&&(o+=i(s)+"["+t+"]=> "+r,a(e[t]));s--,o+=i(s)+"}"+r}else a(e)};return 0===e.length&&e.push(this.context),e.forEach(e=>{t(e)}),o},date(e){let t;if(null==e||""===e)t=new Date;else if(p.lib.is("Date",e))t=e;else if(p.lib.is("String",e))t=e.match(/^\d+$/)?new Date(1e3*e):new Date(1e3*p.lib.strtotime(e));else{if(!p.lib.is("Number",e))throw new p.Error("Unable to parse date "+e);t=new Date(1e3*e)}return t},block(e){e=this.getBlock(e);if(void 0!==e)return e.render(this,this.context)},parent(){return this.getBlock(this.getNestingStackToken(p.logic.type.block).blockName,!0).render(this,this.context)},attribute(e,t,r){return p.lib.is("Object",e)&&Object.hasOwnProperty.call(e,t)?"function"==typeof e[t]?e[t].apply(void 0,r):e[t]:e&&e[t]||void 0},max(e,...t){return p.lib.is("Object",e)?(delete e._keys,p.lib.max(e)):Reflect.apply(p.lib.max,null,[e,...t])},min(e,...t){return p.lib.is("Object",e)?(delete e._keys,p.lib.min(e)):Reflect.apply(p.lib.min,null,[e,...t])},template_from_string(e){return p.Templates.parsers.twig({options:this.template.options,data:e=void 0===e?"":e})},random(e){const n=2147483648;function t(e){var t=Math.floor(Math.random()*n),r=Math.min.call(null,0,e),e=Math.max.call(null,0,e);return r+Math.floor((e-r+1)*t/n)}return p.lib.is("Number",e)?t(e):p.lib.is("String",e)?e.charAt(t(e.length-1)):p.lib.is("Array",e)?e[t(e.length-1)]:p.lib.is("Object",e)?e[(e=Object.keys(e))[t(e.length-1)]]:t(n-1)},source(e,t){var r=this.template.options["namespaces"];let n,s=!1;var o=void 0!==l.exports&&"undefined"==typeof window;let i,a=e;r&&"object"==typeof r&&(a=p.path.expandNamespace(r,a)),i=o?"fs":"ajax";r={id:e,path:a,method:i,parser:"source",async:!1,fetchTemplateSource:!0};void 0===t&&(t=!1);try{void 0===(n=p.Templates.loadRemote(e,r))||null===n?n="":s=!0}catch(e){p.log.debug("Twig.functions.source: ","Problem loading template  ",e)}return s||t?n:'Template "{name}" is not defined.'.replace("{name}",e)}},p._function=function(e,t,r){if(p.functions[e])return p.functions[e](t,r);throw new p.Error("Unable to find function "+e)},p._function.extend=function(e,t){p.functions[e]=t},p}},function(e,t,r){e.exports=function(e){return e.lib={},e.lib.sprintf=r(20),e.lib.vsprintf=r(47),e.lib.round=r(48),e.lib.max=r(50),e.lib.min=r(51),e.lib.stripTags=r(52),e.lib.strtotime=r(54),e.lib.date=r(55),e.lib.boolval=r(56),e.lib.is=function(e,t){if(null==t)return!1;switch(e){case"Array":return Array.isArray(t);case"Date":return t instanceof Date;case"String":return"string"==typeof t||t instanceof String;case"Number":return"number"==typeof t||t instanceof Number;case"Function":return"function"==typeof t;case"Object":return t instanceof Object;default:return!1}},e.lib.replaceAll=function(e,t,r){e="string"==typeof e?e:e.toString(),t=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return e.replace(new RegExp(t,"g"),r)},e.lib.chunkArray=function(e,t){var r=[];let n=0;var s=e.length;if(t<1||!Array.isArray(e))return[];for(;n<s;)r.push(e.slice(n,n+=t));return r},e}},function(e,t,r){"use strict";e.exports=function(e,t){return r(20).apply(this,[e].concat(t))}},function(e,t,o){"use strict";function i(e,t){var r=Math.floor(Math.abs(e)+.5);return("PHP_ROUND_HALF_DOWN"===t&&e===r-.5||"PHP_ROUND_HALF_EVEN"===t&&e===.5+2*Math.floor(r/2)||"PHP_ROUND_HALF_ODD"===t&&e===.5+2*Math.floor(r/2)-1)&&--r,e<0?-r:r}e.exports=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"PHP_ROUND_HALF_UP",n=o(49),s=o(21);return e=n(e),t=s(t),n=Math.pow(10,t),isNaN(e)||!isFinite(e)||Math.trunc(e)===e&&0<=t?e:(t<(s=14-Math.floor(Math.log10(Math.abs(e))))&&s-15<t?(e=i(e*Math.pow(10,s),r),e/=Math.pow(10,Math.abs(t-s))):e*=n,(e=i(e,r))/n)}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){switch(void 0===e?"undefined":n(e)){case"number":return e;case"string":return parseFloat(e)||0;default:return r(21)(e)}}},function(e,t,r){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(){function a(e){if("[object Array]"===Object.prototype.toString.call(e))return e;var t,r=[];for(t in e)e.hasOwnProperty(t)&&r.push(e[t]);return r}function p(e,t){var r,n,s,o,i=0;if(e!==t){if("object"!==(void 0===e?"undefined":l(e)))return"object"===(void 0===t?"undefined":l(t))?1:isNaN(t)&&!isNaN(e)?0===e?0:e<0?1:-1:isNaN(e)&&!isNaN(t)?0===t?0:0<t?1:-1:t===e?0:e<t?1:-1;if("object"!==(void 0===t?"undefined":l(t)))return-1;if(e=a(e),t=a(t),(o=e.length)<(s=t.length))return 1;if(s<o)return-1;for(i=0,r=o;i<r;++i){if(1===(n=p(e[i],t[i])))return 1;if(-1===n)return-1}}return 0}var e,t=void 0,r=void 0,n=0,s=arguments,o=s.length;if(0===o)throw new Error("At least one value should be passed to max()");if(1===o){if("object"!==l(s[0]))throw new Error("Wrong parameter count for max()");if(0===(t=a(s[0])).length)throw new Error("Array must contain at least one element for max()")}else t=s;for(r=t[0],n=1,e=t.length;n<e;++n)1===p(r,t[n])&&(r=t[n]);return r}},function(e,t,r){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(){function a(e){if("[object Array]"===Object.prototype.toString.call(e))return e;var t,r=[];for(t in e)e.hasOwnProperty(t)&&r.push(e[t]);return r}function p(e,t){var r,n,s,o,i=0;if(e!==t){if("object"!==(void 0===e?"undefined":l(e)))return"object"===(void 0===t?"undefined":l(t))?1:isNaN(t)&&!isNaN(e)?0===e?0:e<0?1:-1:isNaN(e)&&!isNaN(t)?0===t?0:0<t?1:-1:t===e?0:e<t?1:-1;if("object"!==(void 0===t?"undefined":l(t)))return-1;if(e=a(e),t=a(t),(o=e.length)<(s=t.length))return 1;if(s<o)return-1;for(i=0,r=o;i<r;++i){if(1===(n=p(e[i],t[i])))return 1;if(-1===n)return-1}}return 0}var e,t=void 0,r=void 0,n=0,s=arguments,o=s.length;if(0===o)throw new Error("At least one value should be passed to min()");if(1===o){if("object"!==l(s[0]))throw new Error("Wrong parameter count for min()");if(0===(t=a(s[0])).length)throw new Error("Array must contain at least one element for min()")}else t=s;for(r=t[0],n=1,e=t.length;n<e;++n)-1===p(r,t[n])&&(r=t[n]);return r}},function(e,t,a){"use strict";e.exports=function(e,r){var t=a(53),n=(r=(((r||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join(""),/<\/?([a-z0-9]*)\b[^>]*>?/gi),s=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;for(i="<"===(i=t(e)).substring(i.length-1)?i.substring(0,i.length-1):i;;){var o=i,i=o.replace(s,"").replace(n,function(e,t){return-1<r.indexOf("<"+t.toLowerCase()+">")?e:""});if(o===i)return i}}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){switch(void 0===e?"undefined":n(e)){case"boolean":return e?"1":"";case"string":return e;case"number":return isNaN(e)?"NAN":isFinite(e)?e+"":(e<0?"-":"")+"INF";case"undefined":return"";case"object":return Array.isArray(e)?"Array":null!==e?"Object":"";default:throw new Error("Unsupported value type")}}},function(e,L,D){"use strict";var t="[ \\t]+",r="[ \\t]*",n="(?:([ap])\\.?m\\.?([\\t ]|$))",s="(2[0-4]|[01]?[0-9])",o="([01][0-9]|2[0-4])",i="(0?[1-9]|1[0-2])",a="([0-5]?[0-9])",p="([0-5][0-9])",l="(60|[0-5]?[0-9])",c="(60|[0-5][0-9])",u="(?:\\.([0-9]+))",h="sunday|monday|tuesday|wednesday|thursday|friday|saturday",f="sun|mon|tue|wed|thu|fri|sat",d=h+"|"+f+"|weekdays?",y="first|second|third|fourth|fifth|sixth|seventh|eighth?|ninth|tenth|eleventh|twelfth",m="next|last|previous|this",g="(?:second|sec|minute|min|hour|day|fortnight|forthnight|month|year)s?|weeks|"+d,x="([0-9]{1,4})",b="([0-9]{4})",v="(1[0-2]|0?[0-9])",w="(0[0-9]|1[0-2])",k="(?:(3[01]|[0-2]?[0-9])(?:st|nd|rd|th)?)",T="(0[0-9]|[1-2][0-9]|3[01])",E="january|february|march|april|may|june|july|august|september|october|november|december",S="jan|feb|mar|apr|may|jun|jul|aug|sept?|oct|nov|dec",A="("+E+"|"+S+"|i[vx]|vi{0,3}|xi{0,2}|i{1,3})",j="((?:GMT)?([+-])"+s+":?"+a+"?)",N=A+"[ .\\t-]*"+k+"[,.stndrh\\t ]*";function O(e,t){switch(t=t&&t.toLowerCase()){case"a":e+=12===e?-12:0;break;case"p":e+=12!==e?12:0}return e}function _(e){var t=+e;return e.length<4&&t<100&&(t+=t<70?2e3:1900),t}function P(e){return{jan:0,january:0,i:0,feb:1,february:1,ii:1,mar:2,march:2,iii:2,apr:3,april:3,iv:3,may:4,v:4,jun:5,june:5,vi:5,jul:6,july:6,vii:6,aug:7,august:7,viii:7,sep:8,sept:8,september:8,ix:8,oct:9,october:9,x:9,nov:10,november:10,xi:10,dec:11,december:11,xii:11}[e.toLowerCase()]}function R(e,t){t=1<arguments.length&&void 0!==t?t:0;return{mon:1,monday:1,tue:2,tuesday:2,wed:3,wednesday:3,thu:4,thursday:4,fri:5,friday:5,sat:6,saturday:6,sun:0,sunday:0}[e.toLowerCase()]||t}function M(e,t){var r,n,s;return(e=e&&e.match(/(?:GMT)?([+-])(\d+)(:?)(\d{0,2})/i))?(r="-"===e[1]?-1:1,n=+e[2],s=+e[4],e[4]||e[3]||(s=Math.floor(n%100),n=Math.floor(n/100)),r*(60*n+s)*60):t}var C={acdt:37800,acst:34200,addt:-7200,adt:-10800,aedt:39600,aest:36e3,ahdt:-32400,ahst:-36e3,akdt:-28800,akst:-32400,amt:-13840,apt:-10800,ast:-14400,awdt:32400,awst:28800,awt:-10800,bdst:7200,bdt:-36e3,bmt:-14309,bst:3600,cast:34200,cat:7200,cddt:-14400,cdt:-18e3,cemt:10800,cest:7200,cet:3600,cmt:-15408,cpt:-18e3,cst:-21600,cwt:-18e3,chst:36e3,dmt:-1521,eat:10800,eddt:-10800,edt:-14400,eest:10800,eet:7200,emt:-26248,ept:-14400,est:-18e3,ewt:-14400,ffmt:-14660,fmt:-4056,gdt:39600,gmt:0,gst:36e3,hdt:-34200,hkst:32400,hkt:28800,hmt:-19776,hpt:-34200,hst:-36e3,hwt:-34200,iddt:14400,idt:10800,imt:25025,ist:7200,jdt:36e3,jmt:8440,jst:32400,kdt:36e3,kmt:5736,kst:30600,lst:9394,mddt:-18e3,mdst:16279,mdt:-21600,mest:7200,met:3600,mmt:9017,mpt:-21600,msd:14400,msk:10800,mst:-25200,mwt:-21600,nddt:-5400,ndt:-9052,npt:-9e3,nst:-12600,nwt:-9e3,nzdt:46800,nzmt:41400,nzst:43200,pddt:-21600,pdt:-25200,pkst:21600,pkt:18e3,plmt:25590,pmt:-13236,ppmt:-17340,ppt:-25200,pst:-28800,pwt:-25200,qmt:-18840,rmt:5794,sast:7200,sdmt:-16800,sjmt:-20173,smt:-13884,sst:-39600,tbmt:10751,tmt:12344,uct:0,utc:0,wast:7200,wat:3600,wemt:7200,west:3600,wet:0,wib:25200,wita:28800,wit:32400,wmt:5040,yddt:-25200,ydt:-28800,ypt:-28800,yst:-32400,ywt:-28800,a:3600,b:7200,c:10800,d:14400,e:18e3,f:21600,g:25200,h:28800,i:32400,k:36e3,l:39600,m:43200,n:-3600,o:-7200,p:-10800,q:-14400,r:-18e3,s:-21600,t:-25200,u:-28800,v:-32400,w:-36e3,x:-39600,y:-43200,z:0},F={yesterday:{regex:/^yesterday/i,name:"yesterday",callback:function(){return--this.rd,this.resetTime()}},now:{regex:/^now/i,name:"now"},noon:{regex:/^noon/i,name:"noon",callback:function(){return this.resetTime()&&this.time(12,0,0,0)}},midnightOrToday:{regex:/^(midnight|today)/i,name:"midnight | today",callback:function(){return this.resetTime()}},tomorrow:{regex:/^tomorrow/i,name:"tomorrow",callback:function(){return this.rd+=1,this.resetTime()}},timestamp:{regex:/^@(-?\d+)/i,name:"timestamp",callback:function(e,t){return this.rs+=+t,this.y=1970,this.m=0,this.d=1,this.dates=0,this.resetTime()&&this.zone(0)}},firstOrLastDay:{regex:/^(first|last) day of/i,name:"firstdayof | lastdayof",callback:function(e,t){"first"===t.toLowerCase()?this.firstOrLastDayOfMonth=1:this.firstOrLastDayOfMonth=-1}},backOrFrontOf:{regex:RegExp("^(back|front) of "+s+r+n+"?","i"),name:"backof | frontof",callback:function(e,t,r,n){var r=+r,s=15;return"back"===t.toLowerCase()||(--r,s=45),r=O(r,n),this.resetTime()&&this.time(r,s,0,0)}},weekdayOf:{regex:RegExp("^("+y+"|"+m+")"+t+"("+h+"|"+f+")"+t+"of","i"),name:"weekdayof"},mssqltime:{regex:RegExp("^"+i+":"+p+":"+c+"[:.]([0-9]+)"+n,"i"),name:"mssqltime",callback:function(e,t,r,n,s,o){return this.time(O(+t,o),+r,+n,+s.substr(0,3))}},timeLong12:{regex:RegExp("^"+i+"[:.]"+a+"[:.]"+c+r+n,"i"),name:"timelong12",callback:function(e,t,r,n,s){return this.time(O(+t,s),+r,+n,0)}},timeShort12:{regex:RegExp("^"+i+"[:.]"+p+r+n,"i"),name:"timeshort12",callback:function(e,t,r,n){return this.time(O(+t,n),+r,0,0)}},timeTiny12:{regex:RegExp("^"+i+r+n,"i"),name:"timetiny12",callback:function(e,t,r){return this.time(O(+t,r),0,0,0)}},soap:{regex:RegExp("^"+b+"-"+w+"-"+T+"T"+o+":"+p+":"+c+u+j+"?","i"),name:"soap",callback:function(e,t,r,n,s,o,i,a,p){return this.ymd(+t,r-1,+n)&&this.time(+s,+o,+i,+a.substr(0,3))&&this.zone(M(p))}},wddx:{regex:RegExp("^"+b+"-"+v+"-"+k+"T"+s+":"+a+":"+l),name:"wddx",callback:function(e,t,r,n,s,o,i){return this.ymd(+t,r-1,+n)&&this.time(+s,+o,+i,0)}},exif:{regex:RegExp("^"+b+":"+w+":"+T+" "+o+":"+p+":"+c,"i"),name:"exif",callback:function(e,t,r,n,s,o,i){return this.ymd(+t,r-1,+n)&&this.time(+s,+o,+i,0)}},xmlRpc:{regex:RegExp("^"+b+w+T+"T"+s+":"+p+":"+c),name:"xmlrpc",callback:function(e,t,r,n,s,o,i){return this.ymd(+t,r-1,+n)&&this.time(+s,+o,+i,0)}},xmlRpcNoColon:{regex:RegExp("^"+b+w+T+"[Tt]"+s+p+c),name:"xmlrpcnocolon",callback:function(e,t,r,n,s,o,i){return this.ymd(+t,r-1,+n)&&this.time(+s,+o,+i,0)}},clf:{regex:RegExp("^"+k+"/("+S+")/"+b+":"+o+":"+p+":"+c+t+j,"i"),name:"clf",callback:function(e,t,r,n,s,o,i,a){return this.ymd(+n,P(r),+t)&&this.time(+s,+o,+i,0)&&this.zone(M(a))}},iso8601long:{regex:RegExp("^t?"+s+"[:.]"+a+"[:.]"+l+u,"i"),name:"iso8601long",callback:function(e,t,r,n,s){return this.time(+t,+r,+n,+s.substr(0,3))}},dateTextual:{regex:RegExp("^"+A+"[ .\\t-]*"+k+"[,.stndrh\\t ]+"+x,"i"),name:"datetextual",callback:function(e,t,r,n){return this.ymd(_(n),P(t),+r)}},pointedDate4:{regex:RegExp("^"+k+"[.\\t-]"+v+"[.-]"+b),name:"pointeddate4",callback:function(e,t,r,n){return this.ymd(+n,r-1,+t)}},pointedDate2:{regex:RegExp("^"+k+"[.\\t]"+v+"\\.([0-9]{2})"),name:"pointeddate2",callback:function(e,t,r,n){return this.ymd(_(n),r-1,+t)}},timeLong24:{regex:RegExp("^t?"+s+"[:.]"+a+"[:.]"+l),name:"timelong24",callback:function(e,t,r,n){return this.time(+t,+r,+n,0)}},dateNoColon:{regex:RegExp("^"+b+w+T),name:"datenocolon",callback:function(e,t,r,n){return this.ymd(+t,r-1,+n)}},pgydotd:{regex:RegExp("^"+b+"\\.?(00[1-9]|0[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6])"),name:"pgydotd",callback:function(e,t,r){return this.ymd(+t,0,+r)}},timeShort24:{regex:RegExp("^t?"+s+"[:.]"+a,"i"),name:"timeshort24",callback:function(e,t,r){return this.time(+t,+r,0,0)}},iso8601noColon:{regex:RegExp("^t?"+o+p+c,"i"),name:"iso8601nocolon",callback:function(e,t,r,n){return this.time(+t,+r,+n,0)}},iso8601dateSlash:{regex:RegExp("^"+b+"/"+w+"/"+T+"/"),name:"iso8601dateslash",callback:function(e,t,r,n){return this.ymd(+t,r-1,+n)}},dateSlash:{regex:RegExp("^"+b+"/"+v+"/"+k),name:"dateslash",callback:function(e,t,r,n){return this.ymd(+t,r-1,+n)}},american:{regex:RegExp("^"+v+"/"+k+"/"+x),name:"american",callback:function(e,t,r,n){return this.ymd(_(n),t-1,+r)}},americanShort:{regex:RegExp("^"+v+"/"+k),name:"americanshort",callback:function(e,t,r){return this.ymd(this.y,t-1,+r)}},gnuDateShortOrIso8601date2:{regex:RegExp("^"+x+"-"+v+"-"+k),name:"gnudateshort | iso8601date2",callback:function(e,t,r,n){return this.ymd(_(t),r-1,+n)}},iso8601date4:{regex:RegExp("^([+-]?[0-9]{4})-"+w+"-"+T),name:"iso8601date4",callback:function(e,t,r,n){return this.ymd(+t,r-1,+n)}},gnuNoColon:{regex:RegExp("^t?"+o+p,"i"),name:"gnunocolon",callback:function(e,t,r){switch(this.times){case 0:return this.time(+t,+r,0,this.f);case 1:return this.y=100*t+ +r,this.times++,!0;default:return!1}}},gnuDateShorter:{regex:RegExp("^"+b+"-"+v),name:"gnudateshorter",callback:function(e,t,r){return this.ymd(+t,r-1,1)}},pgTextReverse:{regex:RegExp("^(\\d{3,4}|[4-9]\\d|3[2-9])-("+S+")-"+T,"i"),name:"pgtextreverse",callback:function(e,t,r,n){return this.ymd(_(t),P(r),+n)}},dateFull:{regex:RegExp("^"+k+"[ \\t.-]*"+A+"[ \\t.-]*"+x,"i"),name:"datefull",callback:function(e,t,r,n){return this.ymd(_(n),P(r),+t)}},dateNoDay:{regex:RegExp("^"+A+"[ .\\t-]*"+b,"i"),name:"datenoday",callback:function(e,t,r){return this.ymd(+r,P(t),1)}},dateNoDayRev:{regex:RegExp("^"+b+"[ .\\t-]*"+A,"i"),name:"datenodayrev",callback:function(e,t,r){return this.ymd(+t,P(r),1)}},pgTextShort:{regex:RegExp("^("+S+")-"+T+"-"+x,"i"),name:"pgtextshort",callback:function(e,t,r,n){return this.ymd(_(n),P(t),+r)}},dateNoYear:{regex:RegExp("^"+N,"i"),name:"datenoyear",callback:function(e,t,r){return this.ymd(this.y,P(t),+r)}},dateNoYearRev:{regex:RegExp("^"+k+"[ .\\t-]*"+A,"i"),name:"datenoyearrev",callback:function(e,t,r){return this.ymd(this.y,P(r),+t)}},isoWeekDay:{regex:RegExp("^"+b+"-?W(0[1-9]|[1-4][0-9]|5[0-3])(?:-?([0-7]))?"),name:"isoweekday | isoweek",callback:function(e,t,r,n){if(n=n?+n:1,!this.ymd(+t,0,1))return!1;t=new Date(this.y,this.m,this.d).getDay();this.rd+=0-(4<t?t-7:t)+7*(r-1)+n}},relativeText:{regex:RegExp("^("+y+"|"+m+")"+t+"("+g+")","i"),name:"relativetext",callback:function(e,t,r){var t={amount:{last:-1,previous:-1,this:0,first:1,next:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eight:8,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12}[t=(t=t).toLowerCase()],behavior:{this:1}[t]||0},n=t.amount;switch(r.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=n;break;case"min":case"mins":case"minute":case"minutes":this.ri+=n;break;case"hour":case"hours":this.rh+=n;break;case"day":case"days":this.rd+=n;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=14*n;break;case"week":case"weeks":this.rd+=7*n;break;case"month":case"months":this.rm+=n;break;case"year":case"years":this.ry+=n;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=R(r,7),this.weekdayBehavior=1,this.rd+=7*(0<n?n-1:n)}}},relative:{regex:RegExp("^([+-]*)[ \\t]*(\\d+)"+r+"("+g+"|week)","i"),name:"relative",callback:function(e,t,r,n){var t=t.replace(/[^-]/g,"").length,s=+r*Math.pow(-1,t);switch(n.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=s;break;case"min":case"mins":case"minute":case"minutes":this.ri+=s;break;case"hour":case"hours":this.rh+=s;break;case"day":case"days":this.rd+=s;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=14*s;break;case"week":case"weeks":this.rd+=7*s;break;case"month":case"months":this.rm+=s;break;case"year":case"years":this.ry+=s;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=R(n,7),this.weekdayBehavior=1,this.rd+=7*(0<s?s-1:s)}}},dayText:{regex:RegExp("^("+d+")","i"),name:"daytext",callback:function(e,t){this.resetTime(),this.weekday=R(t,0),2!==this.weekdayBehavior&&(this.weekdayBehavior=1)}},relativeTextWeek:{regex:RegExp("^("+m+")"+t+"week","i"),name:"relativetextweek",callback:function(e,t){switch(this.weekdayBehavior=2,t.toLowerCase()){case"this":this.rd+=0;break;case"next":this.rd+=7;break;case"last":case"previous":this.rd-=7}isNaN(this.weekday)&&(this.weekday=1)}},monthFullOrMonthAbbr:{regex:RegExp("^("+E+"|"+S+")","i"),name:"monthfull | monthabbr",callback:function(e,t){return this.ymd(this.y,P(t),this.d)}},tzCorrection:{regex:RegExp("^"+j,"i"),name:"tzcorrection",callback:function(e){return this.zone(M(e))}},tzAbbr:{regex:RegExp("^\\(?([a-zA-Z]{1,6})\\)?"),name:"tzabbr",callback:function(e,t){t=C[t.toLowerCase()];return!isNaN(t)&&this.zone(t)}},ago:{regex:/^ago/i,name:"ago",callback:function(){this.ry=-this.ry,this.rm=-this.rm,this.rd=-this.rd,this.rh=-this.rh,this.ri=-this.ri,this.rs=-this.rs,this.rf=-this.rf}},year4:{regex:RegExp("^"+b),name:"year4",callback:function(e,t){return this.y=+t,!0}},whitespace:{regex:/^[ .,\t]+/,name:"whitespace"},dateShortWithTimeLong:{regex:RegExp("^"+N+"t?"+s+"[:.]"+a+"[:.]"+l,"i"),name:"dateshortwithtimelong",callback:function(e,t,r,n,s,o){return this.ymd(this.y,P(t),+r)&&this.time(+n,+s,+o,0)}},dateShortWithTimeLong12:{regex:RegExp("^"+N+i+"[:.]"+a+"[:.]"+c+r+n,"i"),name:"dateshortwithtimelong12",callback:function(e,t,r,n,s,o,i){return this.ymd(this.y,P(t),+r)&&this.time(O(+n,i),+s,+o,0)}},dateShortWithTimeShort:{regex:RegExp("^"+N+"t?"+s+"[:.]"+a,"i"),name:"dateshortwithtimeshort",callback:function(e,t,r,n,s){return this.ymd(this.y,P(t),+r)&&this.time(+n,+s,0,0)}},dateShortWithTimeShort12:{regex:RegExp("^"+N+i+"[:.]"+p+r+n,"i"),name:"dateshortwithtimeshort12",callback:function(e,t,r,n,s,o){return this.ymd(this.y,P(t),+r)&&this.time(O(+n,o),+s,0,0)}}},z={y:NaN,m:NaN,d:NaN,h:NaN,i:NaN,s:NaN,f:NaN,ry:0,rm:0,rd:0,rh:0,ri:0,rs:0,rf:0,weekday:NaN,weekdayBehavior:0,firstOrLastDayOfMonth:0,z:NaN,dates:0,times:0,zones:0,ymd:function(e,t,r){return!(0<this.dates||(this.dates++,this.y=e,this.m=t,this.d=r,0))},time:function(e,t,r,n){return!(0<this.times||(this.times++,this.h=e,this.i=t,this.s=r,this.f=n,0))},resetTime:function(){return this.h=0,this.i=0,this.s=0,this.f=0,!(this.times=0)},zone:function(e){return this.zones<=1&&(this.zones++,this.z=e,!0)},toDate:function(e){switch(this.dates&&!this.times&&(this.h=this.i=this.s=this.f=0),isNaN(this.y)&&(this.y=e.getFullYear()),isNaN(this.m)&&(this.m=e.getMonth()),isNaN(this.d)&&(this.d=e.getDate()),isNaN(this.h)&&(this.h=e.getHours()),isNaN(this.i)&&(this.i=e.getMinutes()),isNaN(this.s)&&(this.s=e.getSeconds()),isNaN(this.f)&&(this.f=e.getMilliseconds()),this.firstOrLastDayOfMonth){case 1:this.d=1;break;case-1:this.d=0,this.m+=1}isNaN(this.weekday)||((t=new Date(e.getTime())).setFullYear(this.y,this.m,this.d),t.setHours(this.h,this.i,this.s,this.f),t=t.getDay(),2===this.weekdayBehavior?(0===t&&0!==this.weekday&&(this.weekday=-6),0===this.weekday&&0!==t&&(this.weekday=7),this.d-=t,this.d+=this.weekday):(r=this.weekday-t,(this.rd<0&&r<0||0<=this.rd&&r<=-this.weekdayBehavior)&&(r+=7),0<=this.weekday?this.d+=r:this.d-=7-(Math.abs(this.weekday)-t),this.weekday=NaN)),this.y+=this.ry,this.m+=this.rm,this.d+=this.rd,this.h+=this.rh,this.i+=this.ri,this.s+=this.rs,this.f+=this.rf,this.ry=this.rm=this.rd=0,this.rh=this.ri=this.rs=this.rf=0;var t,r,n=new Date(e.getTime());switch(n.setFullYear(this.y,this.m,this.d),n.setHours(this.h,this.i,this.s,this.f),this.firstOrLastDayOfMonth){case 1:n.setDate(1);break;case-1:n.setMonth(n.getMonth()+1,0)}return isNaN(this.z)||n.getTimezoneOffset()===this.z||(n.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),n.setUTCHours(n.getHours(),n.getMinutes(),n.getSeconds()-this.z,n.getMilliseconds())),n}};e.exports=function(e,t){null==t&&(t=Math.floor(Date.now()/1e3));for(var r=[F.yesterday,F.now,F.noon,F.midnightOrToday,F.tomorrow,F.timestamp,F.firstOrLastDay,F.backOrFrontOf,F.timeTiny12,F.timeShort12,F.timeLong12,F.mssqltime,F.timeShort24,F.timeLong24,F.iso8601long,F.gnuNoColon,F.iso8601noColon,F.americanShort,F.american,F.iso8601date4,F.iso8601dateSlash,F.dateSlash,F.gnuDateShortOrIso8601date2,F.gnuDateShorter,F.dateFull,F.pointedDate4,F.pointedDate2,F.dateNoDay,F.dateNoDayRev,F.dateTextual,F.dateNoYear,F.dateNoYearRev,F.dateNoColon,F.xmlRpc,F.xmlRpcNoColon,F.soap,F.wddx,F.exif,F.pgydotd,F.isoWeekDay,F.pgTextShort,F.pgTextReverse,F.clf,F.year4,F.ago,F.dayText,F.relativeTextWeek,F.relativeText,F.monthFullOrMonthAbbr,F.tzCorrection,F.tzAbbr,F.dateShortWithTimeShort12,F.dateShortWithTimeLong12,F.dateShortWithTimeShort,F.dateShortWithTimeLong,F.relative,F.whitespace],n=Object.create(z);e.length;){for(var s=null,o=null,i=0,a=r.length;i<a;i++){var p=r[i],l=e.match(p.regex);l&&(!s||l[0].length>s[0].length)&&(s=l,o=p)}if(!o||o.callback&&!1===o.callback.apply(n,s))return!1;e=e.substr(s[0].length),s=o=null}return Math.floor(n.toDate(new Date(1e3*t))/1e3)}},function(e,t,r){"use strict";e.exports=function(e,t){function r(e,t){return o[e]?o[e]():t}function n(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}var s=void 0,o=void 0,i=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],a=/\\?(.?)/gi,o={d:function(){return n(o.j(),2)},D:function(){return o.l().slice(0,3)},j:function(){return s.getDate()},l:function(){return i[o.w()]+"day"},N:function(){return o.w()||7},S:function(){var e=o.j(),t=e%10;return["st","nd","rd"][(t=t<=3&&1===parseInt(e%100/10,10)?0:t)-1]||"th"},w:function(){return s.getDay()},z:function(){var e=new Date(o.Y(),o.n()-1,o.j()),t=new Date(o.Y(),0,1);return Math.round((e-t)/864e5)},W:function(){var e=new Date(o.Y(),o.n()-1,o.j()-o.N()+3),t=new Date(e.getFullYear(),0,4);return n(1+Math.round((e-t)/864e5/7),2)},F:function(){return i[6+o.n()]},m:function(){return n(o.n(),2)},M:function(){return o.F().slice(0,3)},n:function(){return s.getMonth()+1},t:function(){return new Date(o.Y(),o.n(),0).getDate()},L:function(){var e=o.Y();return e%4==0&e%100!=0|e%400==0},o:function(){var e=o.n(),t=o.W();return o.Y()+(12===e&&t<9?1:1===e&&9<t?-1:0)},Y:function(){return s.getFullYear()},y:function(){return o.Y().toString().slice(-2)},a:function(){return 11<s.getHours()?"pm":"am"},A:function(){return o.a().toUpperCase()},B:function(){var e=3600*s.getUTCHours(),t=60*s.getUTCMinutes(),r=s.getUTCSeconds();return n(Math.floor((e+t+r+3600)/86.4)%1e3,3)},g:function(){return o.G()%12||12},G:function(){return s.getHours()},h:function(){return n(o.g(),2)},H:function(){return n(o.G(),2)},i:function(){return n(s.getMinutes(),2)},s:function(){return n(s.getSeconds(),2)},u:function(){return n(1e3*s.getMilliseconds(),6)},e:function(){throw new Error("Not supported (see source code of date() for timezone on how to add support)")},I:function(){return new Date(o.Y(),0)-Date.UTC(o.Y(),0)!=new Date(o.Y(),6)-Date.UTC(o.Y(),6)?1:0},O:function(){var e=s.getTimezoneOffset(),t=Math.abs(e);return(0<e?"-":"+")+n(100*Math.floor(t/60)+t%60,4)},P:function(){var e=o.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-s.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(a,r)},r:function(){return"D, d M Y H:i:s O".replace(a,r)},U:function(){return s/1e3|0}};return e=e,s=void 0===(t=t)?new Date:t instanceof Date?new Date(t):new Date(1e3*t),e.replace(a,r)}},function(e,t,r){"use strict";e.exports=function(e){return!1!==e&&0!==e&&""!==e&&"0"!==e&&(!Array.isArray(e)||0!==e.length)&&null!=e}},function(e,t){e.exports=function(l){"use strict";l.Templates.registerLoader("ajax",function(t,r,n,s){let o;const i=r["precompiled"],a=this.parsers[r.parser]||this.parser.twig;if("undefined"==typeof XMLHttpRequest)throw new l.Error('Unsupported platform: Unable to do ajax requests because there is no "XMLHTTPRequest" implementation');const p=new XMLHttpRequest;return p.onreadystatechange=function(){let e=null;4===p.readyState&&(200===p.status||window.cordova&&0===p.status?(l.log.debug("Got template ",p.responseText),e=!0===i?JSON.parse(p.responseText):p.responseText,r.url=t,r.data=e,o=a.call(this,r),"function"==typeof n&&n(o)):"function"==typeof s&&s(p))},p.open("GET",t,Boolean(r.async)),p.overrideMimeType("text/plain"),p.send(),!!r.async||o})}},function(e,t,r){e.exports=function(c){"use strict";let u,t;try{u=r(7),t=r(22)}catch(e){console.warn("Missing fs and path modules. "+e)}c.Templates.registerLoader("fs",function(r,n,s,o){let i;var e;const a=n["precompiled"],p=this.parsers[n.parser]||this.parser.twig;if(!u||!t)throw new c.Error('Unsupported platform: Unable to load from file because there is no "fs" or "path" implementation');function l(e,t){e?"function"==typeof o&&o(e):(!0===a&&(t=JSON.parse(t)),n.data=t,n.path=n.path||r,i=p.call(this,n),"function"==typeof s&&s(i))}if(n.path=n.path||r,n.async)return u.stat(n.path,(e,t)=>{e||!t.isFile()?"function"==typeof o&&o(new c.Error("Unable to find template file "+n.path)):u.readFile(n.path,"utf8",l)}),!0;try{if(!u.statSync(n.path).isFile())throw new c.Error("Unable to find template file "+n.path)}catch(e){throw new c.Error("Unable to find template file "+n.path+". "+e)}return e=u.readFileSync(n.path,"utf8"),l(void 0,e),i})}},function(e,t){e.exports=function(h){"use strict";for(h.logic={},h.logic.type={if_:"Twig.logic.type.if",endif:"Twig.logic.type.endif",for_:"Twig.logic.type.for",endfor:"Twig.logic.type.endfor",else_:"Twig.logic.type.else",elseif:"Twig.logic.type.elseif",set:"Twig.logic.type.set",setcapture:"Twig.logic.type.setcapture",endset:"Twig.logic.type.endset",filter:"Twig.logic.type.filter",endfilter:"Twig.logic.type.endfilter",apply:"Twig.logic.type.apply",endapply:"Twig.logic.type.endapply",do:"Twig.logic.type.do",shortblock:"Twig.logic.type.shortblock",block:"Twig.logic.type.block",endblock:"Twig.logic.type.endblock",extends_:"Twig.logic.type.extends",use:"Twig.logic.type.use",include:"Twig.logic.type.include",spaceless:"Twig.logic.type.spaceless",endspaceless:"Twig.logic.type.endspaceless",macro:"Twig.logic.type.macro",endmacro:"Twig.logic.type.endmacro",import_:"Twig.logic.type.import",from:"Twig.logic.type.from",embed:"Twig.logic.type.embed",endembed:"Twig.logic.type.endembed",with:"Twig.logic.type.with",endwith:"Twig.logic.type.endwith",deprecated:"Twig.logic.type.deprecated"},h.logic.definitions=[{type:h.logic.type.if_,regex:/^if\s?([\s\S]+)$/,next:[h.logic.type.else_,h.logic.type.elseif,h.logic.type.endif],open:!0,compile(e){var t=e.match[1];return e.stack=h.expression.compile.call(this,{type:h.expression.type.expression,value:t}).stack,delete e.match,e},parse(t,r,n){const s=this;return h.expression.parseAsync.call(s,t.stack,r).then(e=>(n=!0,h.lib.boolval(e)?(n=!1,s.parseAsync(t.output,r)):"")).then(e=>({chain:n,output:e}))}},{type:h.logic.type.elseif,regex:/^elseif\s?([^\s].*)$/,next:[h.logic.type.else_,h.logic.type.elseif,h.logic.type.endif],open:!1,compile(e){var t=e.match[1];return e.stack=h.expression.compile.call(this,{type:h.expression.type.expression,value:t}).stack,delete e.match,e},parse(t,r,n){const s=this;return h.expression.parseAsync.call(s,t.stack,r).then(e=>n&&h.lib.boolval(e)?(n=!1,s.parseAsync(t.output,r)):"").then(e=>({chain:n,output:e}))}},{type:h.logic.type.else_,regex:/^else$/,next:[h.logic.type.endif,h.logic.type.endfor],open:!1,parse(e,t,r){let n=h.Promise.resolve("");return(n=r?this.parseAsync(e.output,t):n).then(e=>({chain:r,output:e}))}},{type:h.logic.type.endif,regex:/^endif$/,next:[],open:!1},{type:h.logic.type.for_,regex:/^for\s+([a-zA-Z0-9_,\s]+)\s+in\s+([\S\s]+?)(?:\s+if\s+([^\s].*))?$/,next:[h.logic.type.else_,h.logic.type.endfor],open:!0,compile(e){var t=e.match[1],r=e.match[2],n=e.match[3],s=null;if(e.keyVar=null,e.valueVar=null,t.includes(",")){if(2!==(s=t.split(",")).length)throw new h.Error("Invalid expression in for loop: "+t);e.keyVar=s[0].trim(),e.valueVar=s[1].trim()}else e.valueVar=t.trim();return e.expression=h.expression.compile.call(this,{type:h.expression.type.expression,value:r}).stack,n&&(e.conditional=h.expression.compile.call(this,{type:h.expression.type.expression,value:n}).stack),delete e.match,e},parse(n,s,e){const o=[];let i,a=0,r;function p(e,t){const r={...s};return r[n.valueVar]=t,n.keyVar&&(r[n.keyVar]=e),r.loop=u(a,i),(void 0===c?h.Promise.resolve(!0):h.expression.parseAsync.call(l,c,r)).then(e=>{if(e)return l.parseAsync(n.output,r).then(e=>{o.push(e),a+=1})}).then(()=>{delete r.loop,delete r[n.valueVar],delete r[n.keyVar],h.merge(s,r,!0)})}const l=this,c=n["conditional"],u=function(e,t){var r=void 0!==c;return{index:e+1,index0:e,revindex:r?void 0:t-e,revindex0:r?void 0:t-e-1,first:0===e,last:r?void 0:e===t-1,length:r?void 0:t,parent:s}};return h.expression.parseAsync.call(l,n.expression,s).then(t=>Array.isArray(t)?(i=t.length,h.async.forEach(t,e=>{var t=a;return p(t,e)})):h.lib.is("Object",t)?(r=void 0===t._keys?Object.keys(t):t._keys,i=r.length,h.async.forEach(r,e=>{if("_keys"!==e)return p(e,t[e])})):void 0).then(()=>({chain:0===o.length,context:s,output:h.output.call(l.template,o)}))}},{type:h.logic.type.endfor,regex:/^endfor$/,next:[],open:!1},{type:h.logic.type.set,regex:/^set\s+([a-zA-Z0-9_,\s]+)\s*=\s*([\s\S]+)$/,next:[],open:!0,compile(e){var t=e.match[1].trim(),r=e.match[2],r=h.expression.compile.call(this,{type:h.expression.type.expression,value:r}).stack;return e.key=t,e.expression=r,delete e.match,e},parse(e,t,r){const n=e["key"];return h.expression.parseAsync.call(this,e.expression,t).then(e=>(e===t&&(e={...e}),t[n]=e,{chain:r,context:t}))}},{type:h.logic.type.setcapture,regex:/^set\s+([a-zA-Z0-9_,\s]+)$/,next:[h.logic.type.endset],open:!0,compile(e){var t=e.match[1].trim();return e.key=t,delete e.match,e},parse(e,t,r){const n=this,s=e["key"];return n.parseAsync(e.output,t).then(e=>(n.context[s]=e,t[s]=e,{chain:r,context:t}))}},{type:h.logic.type.endset,regex:/^endset$/,next:[],open:!1},{type:h.logic.type.filter,regex:/^filter\s+(.+)$/,next:[h.logic.type.endfilter],open:!0,compile(e){var t="|"+e.match[1].trim();return e.stack=h.expression.compile.call(this,{type:h.expression.type.expression,value:t}).stack,delete e.match,e},parse(t,r,n){const s=this;return s.parseAsync(t.output,r).then(e=>{e=[{type:h.expression.type.string,value:e}].concat(t.stack);return h.expression.parseAsync.call(s,e,r)}).then(e=>({chain:n,output:e}))}},{type:h.logic.type.endfilter,regex:/^endfilter$/,next:[],open:!1},{type:h.logic.type.apply,regex:/^apply\s+(.+)$/,next:[h.logic.type.endapply],open:!0,compile(e){var t="|"+e.match[1].trim();return e.stack=h.expression.compile.call(this,{type:h.expression.type.expression,value:t}).stack,delete e.match,e},parse(t,r,n){const s=this;return s.parseAsync(t.output,r).then(e=>{e=[{type:h.expression.type.string,value:e}].concat(t.stack);return h.expression.parseAsync.call(s,e,r)}).then(e=>({chain:n,output:e}))}},{type:h.logic.type.endapply,regex:/^endapply$/,next:[],open:!1},{type:h.logic.type.do,regex:/^do\s+([\S\s]+)$/,next:[],open:!0,compile(e){var t=e.match[1],t=h.expression.compile.call(this,{type:h.expression.type.expression,value:t}).stack;return e.expression=t,delete e.match,e},parse(e,t,r){return h.expression.parseAsync.call(this,e.expression,t).then(()=>({chain:r,context:t}))}},{type:h.logic.type.block,regex:/^block\s+(\w+)$/,next:[h.logic.type.endblock],open:!0,compile(e){return e.blockName=e.match[1].trim(),delete e.match,e},parse(e,t,r){var n=this;let s=h.Promise.resolve();return n.template.blocks.defined[e.blockName]=new h.Block(n.template,e),(s=null===n.template.parentTemplate||n.template.parentTemplate instanceof h.Template?n.getBlock(e.blockName).render(n,t):s).then(e=>({chain:r,output:e}))}},{type:h.logic.type.shortblock,regex:/^block\s+(\w+)\s+(.+)$/,next:[],open:!0,compile(e){return e.expression=e.match[2].trim(),e.output=h.expression.compile({type:h.expression.type.expression,value:e.expression}).stack,h.logic.handler[h.logic.type.block].compile.apply(this,[e])},parse(...e){return h.logic.handler[h.logic.type.block].parse.apply(this,e)}},{type:h.logic.type.endblock,regex:/^endblock(?:\s+(\w+))?$/,next:[],open:!1},{type:h.logic.type.extends_,regex:/^extends\s+(.+)$/,next:[],open:!0,compile(e){var t=e.match[1].trim();return delete e.match,e.stack=h.expression.compile.call(this,{type:h.expression.type.expression,value:t}).stack,e},parse(e,t,r){const n=this;return h.expression.parseAsync.call(n,e.stack,t).then(e=>{var t;return Array.isArray(e)?null!==(t=e.reverse().reduce((t,e)=>{try{return{render:n.template.importFile(e),fileName:e}}catch(e){return t}},{render:null,fileName:null})).fileName&&(n.template.parentTemplate=t.fileName):n.template.parentTemplate=e,{chain:r,output:""}})}},{type:h.logic.type.use,regex:/^use\s+(.+)$/,next:[],open:!0,compile(e){var t=e.match[1].trim();return delete e.match,e.stack=h.expression.compile.call(this,{type:h.expression.type.expression,value:t}).stack,e},parse(e,t,r){const n=this;return h.expression.parseAsync.call(n,e.stack,t).then(e=>{e=n.template.importFile(e);const t=new h.ParseState(e);return t.parseAsync(e.tokens).then(()=>{n.template.blocks.imported={...n.template.blocks.imported,...t.getBlocks()}})}).then(()=>({chain:r,output:""}))}},{type:h.logic.type.include,regex:/^include\s+(.+?)(?:\s|$)(ignore missing(?:\s|$))?(?:with\s+([\S\s]+?))?(?:\s|$)(only)?$/,next:[],open:!0,compile(e){var t=e["match"],r=t[1].trim(),n=void 0!==t[2],s=t[3],t=void 0!==t[4]&&t[4].length;return delete e.match,e.only=t,e.ignoreMissing=n,e.stack=h.expression.compile.call(this,{type:h.expression.type.expression,value:r}).stack,void 0!==s&&(e.withStack=h.expression.compile.call(this,{type:h.expression.type.expression,value:s.trim()}).stack),e},parse(e,t,r){let n=e.only?{}:{...t};const s=e["ignoreMissing"],o=this;let i=null;const a={chain:r,output:""};return(i=void 0===e.withStack?h.Promise.resolve():h.expression.parseAsync.call(o,e.withStack,t).then(e=>{n={...n,...e}})).then(()=>h.expression.parseAsync.call(o,e.stack,t)).then(e=>{let t;e=(t=Array.isArray(e)?e:[e]).reduce((e,t)=>{if(null===e.render){if(t instanceof h.Template)return{render:t.renderAsync(n,{isInclude:!0}),lastError:null};try{return{render:o.template.importFile(t).renderAsync(n,{isInclude:!0}),lastError:null}}catch(e){return{render:null,lastError:e}}}return e},{render:null,lastError:null});if(null!==e.render)return e.render;if(null===e.render&&s)return"";throw e.lastError}).then(e=>(""!==e&&(a.output=e),a))}},{type:h.logic.type.spaceless,regex:/^spaceless$/,next:[h.logic.type.endspaceless],open:!0,parse(e,t,r){return this.parseAsync(e.output,t).then(e=>{e=e.replace(/>\s+</g,"><").trim(),e=new h.Markup(e);return{chain:r,output:e}})}},{type:h.logic.type.endspaceless,regex:/^endspaceless$/,next:[],open:!1},{type:h.logic.type.macro,regex:/^macro\s+(\w+)\s*\(\s*((?:\w+(?:\s*=\s*([\s\S]+))?(?:,\s*)?)*)\s*\)$/,next:[h.logic.type.endmacro],open:!0,compile(e){var t=e.match[1],r=e.match[2].split(/\s*,\s*/),n=r.map(e=>e.split(/\s*=\s*/)[0]),s=n.length;if(1<s){var o={};for(let e=0;e<s;e++){var i=n[e];if(o[i])throw new h.Error("Duplicate arguments for parameter: "+i);o[i]=1}}return e.macroName=t,e.parameters=n,e.defaults=r.reduce(function(e,t){var t=t.split(/\s*=\s*/),r=t[0],t=t[1];return e[r]=t?h.expression.compile.call(this,{type:h.expression.type.expression,value:t}).stack:void 0,e},{}),delete e.match,e},parse(s,o,e){const t=this;return t.macros[s.macroName]=function(...r){const n={...t.context,_self:t.macros};return h.async.forEach(s.parameters,function(t,e){if(void 0!==r[e])n[t]=r[e];else{if(void 0!==s.defaults[t])return h.expression.parseAsync.call(this,s.defaults[t],o).then(e=>(n[t]=e,h.Promise.resolve()));n[t]=void 0}return!0}).then(()=>t.parseAsync(s.output,n))},{chain:e,output:""}}},{type:h.logic.type.endmacro,regex:/^endmacro$/,next:[],open:!1},{type:h.logic.type.import_,regex:/^import\s+(.+)\s+as\s+(\w+)$/,next:[],open:!0,compile(e){var t=e.match[1].trim(),r=e.match[2].trim();return delete e.match,e.expression=t,e.contextName=r,e.stack=h.expression.compile.call(this,{type:h.expression.type.expression,value:t}).stack,e},parse(r,n,e){const t=this,s={chain:e,output:""};return"_self"===r.expression?(n[r.contextName]=t.macros,s):h.expression.parseAsync.call(t,r.stack,n).then(e=>t.template.importFile(e||r.expression)).then(e=>{const t=new h.ParseState(e);return t.parseAsync(e.tokens).then(()=>(n[r.contextName]=t.macros,s))})}},{type:h.logic.type.from,regex:/^from\s+(.+)\s+import\s+([a-zA-Z0-9_, ]+)$/,next:[],open:!0,compile(e){var t=e.match[1].trim(),r={};for(const s of e.match[2].trim().split(/\s*,\s*/)){var n=s.match(/^(\w+)\s+as\s+(\w+)$/);n?r[n[1].trim()]=n[2].trim():s.match(/^(\w+)$/)&&(r[s]=s)}return delete e.match,e.expression=t,e.macroNames=r,e.stack=h.expression.compile.call(this,{type:h.expression.type.expression,value:t}).stack,e},parse(r,n,s){const t=this;let e;return(e="_self"===r.expression?h.Promise.resolve(t.macros):h.expression.parseAsync.call(t,r.stack,n).then(e=>t.template.importFile(e||r.expression)).then(e=>{const t=new h.ParseState(e);return t.parseAsync(e.tokens).then(()=>t.macros)})).then(e=>{for(const t in r.macroNames)void 0!==e[t]&&(n[r.macroNames[t]]=e[t]);return{chain:s,output:""}})}},{type:h.logic.type.embed,regex:/^embed\s+(.+?)(?:\s+(ignore missing))?(?:\s+with\s+([\S\s]+?))?(?:\s+(only))?$/,next:[h.logic.type.endembed],open:!0,compile(e){var t=e["match"],r=t[1].trim(),n=void 0!==t[2],s=t[3],t=void 0!==t[4]&&t[4].length;return delete e.match,e.only=t,e.ignoreMissing=n,e.stack=h.expression.compile.call(this,{type:h.expression.type.expression,value:r}).stack,void 0!==s&&(e.withStack=h.expression.compile.call(this,{type:h.expression.type.expression,value:s.trim()}).stack),e},parse(r,e,t){let n={},s=h.Promise.resolve(),o=this;return r.only||(n={...e}),(s=void 0!==r.withStack?h.expression.parseAsync.call(o,r.withStack,e).then(e=>{n={...n,...e}}):s).then(()=>h.expression.parseAsync.call(o,r.stack,n)).then(e=>{var t=new h.Template({data:r.output,base:o.template.base,path:o.template.path,url:o.template.url,name:o.template.name,method:o.template.method,options:o.template.options});try{t.importFile(e)}catch(e){if(r.ignoreMissing)return"";throw o=null,e}return t.parentTemplate=e,t.renderAsync(n,{isInclude:!0})}).then(e=>({chain:t,output:e}))}},{type:h.logic.type.endembed,regex:/^endembed$/,next:[],open:!1},{type:h.logic.type.with,regex:/^(?:with(?:\s+([\S\s]+?))?)(?:\s|$)(only)?$/,next:[h.logic.type.endwith],open:!0,compile(e){var t=e["match"],r=t[1],t=void 0!==t[2]&&t[2].length;return delete e.match,e.only=t,void 0!==r&&(e.withStack=h.expression.compile.call(this,{type:h.expression.type.expression,value:r.trim()}).stack),e},parse(e,t,r){let n={},s;let o=h.Promise.resolve();e.only||(n={...t}),void 0!==e.withStack&&(o=h.expression.parseAsync.call(this,e.withStack,t).then(e=>{for(s in e)Object.hasOwnProperty.call(e,s)&&(n[s]=e[s])}));const i=new h.ParseState(this.template,void 0,n);return o.then(()=>i.parseAsync(e.output)).then(e=>({chain:r,output:e}))}},{type:h.logic.type.endwith,regex:/^endwith$/,next:[],open:!1},{type:h.logic.type.deprecated,regex:/^deprecated\s+(.+)$/,next:[],open:!0,compile(e){return console.warn("Deprecation notice: "+e.match[1]),e},parse(){return{}}}],h.logic.handler={},h.logic.extendType=function(e,t){h.logic.type[e]=t=t||"Twig.logic.type"+e},h.logic.extend=function(e){if(!e.type)throw new h.Error("Unable to extend logic definition. No type provided for "+e);h.logic.extendType(e.type),h.logic.handler[e.type]=e};0<h.logic.definitions.length;)h.logic.extend(h.logic.definitions.shift());return h.logic.compile=function(e){e=e.value.trim();let t=h.logic.tokenize.call(this,e);e=h.logic.handler[t.type];return e.compile&&(t=e.compile.call(this,t),h.log.trace("Twig.logic.compile: ","Compiled logic token to ",t)),t},h.logic.tokenize=function(e){let t=null;var r,n;let s=null;var o;let i=null;var a;for(t in e=e.trim(),h.logic.handler)if(Object.hasOwnProperty.call(h.logic.handler,t))for(r=h.logic.handler[t].type,n=h.logic.handler[t].regex,s=n,o=(s=Array.isArray(n)?s:[n]).length,i=0;i<o;i++)if(null!==(a=s[i].exec(e)))return h.log.trace("Twig.logic.tokenize: ","Matched a ",r," regular expression of ",a),{type:r,match:a};throw new h.Error("Unable to parse '"+e.trim()+"'")},h.logic.parse=function(n,s,o,e){return h.async.potentiallyAsync(this,e,function(){h.log.debug("Twig.logic.parse: ","Parsing logic token ",n);var e=h.logic.handler[n.type];let t;const r=this;return e.parse?(r.nestingStack.unshift(n),t=e.parse.call(r,n,s||{},o),h.isPromise(t)?t=t.then(e=>(r.nestingStack.shift(),e)):r.nestingStack.shift(),t):""})},h}},function(e,t){e.exports=function(e){"use strict";e.Templates.registerParser("source",e=>e.data||"")}},function(e,t){e.exports=function(t){"use strict";t.Templates.registerParser("twig",e=>new t.Template(e))}},function(e,t,u){e.exports=function(c){"use strict";return c.path={},c.path.expandNamespace=function(n,e){var t=Object.keys(n),t=new RegExp(`^(?:@(${t.join("|")})/|(${t.join("|")})::)`);return e.replace(t,(e,t,r)=>{return n[void 0===t?r:t]+"/"})},c.path.parsePath=function(e,t){var r=e.options["namespaces"],t=t||"";let n=r&&"object"==typeof r?c.path.expandNamespace(r,t):t;return n=n===t?c.path.relativePath(e,t):n},c.path.relativePath=function(e,t){let r,n,s="/";var o,i=[];let a=t||"";if(e.url)r=void 0===e.base?e.url:e.base.replace(/([^/])$/,"$1/");else if(e.path){var t=u(22),p=t.sep||s,l=new RegExp("^\\.{1,2}"+p.replace("\\","\\\\"));a=a.replace(/\//g,p),r=(r=void 0!==e.base&&null===a.match(l)?(a=a.replace(e.base,""),e.base+p):t.normalize(e.path)).replace(p+p,p),s=p}else{if(!e.name&&!e.id||!e.method||"fs"===e.method||"ajax"===e.method)throw new c.Error("Cannot extend an inline template.");r=e.base||e.name||e.id}for((n=r.split(s)).pop(),n=n.concat(a.split(s));0<n.length;)"."!==(o=n.shift())&&(".."===o&&0<i.length&&".."!==i[i.length-1]?i.pop():i.push(o));return i.join(s)},c}},function(e,t){e.exports=function(n){"use strict";return n.tests={empty(e){if(null!=e){if("number"==typeof e)return!1;if(0<e.length)return!1;for(const t in e)if(Object.hasOwnProperty.call(e,t))return!1}return!0},odd(e){return e%2==1},even(e){return e%2==0},"divisible by"(e,t){return e%t[0]==0},divisibleby(e,t){return console.warn("`divisibleby` is deprecated use `divisible by`"),n.tests["divisible by"](e,t)},defined(e){return void 0!==e},none(e){return null===e},null(e){return this.none(e)},"same as"(e,t){return e===t[0]},sameas(e,t){return console.warn("`sameas` is deprecated use `same as`"),n.tests["same as"](e,t)},iterable(e){return e&&(n.lib.is("Array",e)||n.lib.is("Object",e))}},n.test=function(e,t,r){if(n.tests[e])return n.tests[e](t,r);throw n.Error("Test "+e+" is not defined.")},n.test.extend=function(e,t){n.tests[e]=t},n}},function(e,t){e.exports=function(p){"use strict";return p.ParseState.prototype.parseAsync=function(e,t){return this.parse(e,t,!0)},p.expression.parseAsync=function(e,t,r){return p.expression.parse.call(this,e,t,r,!0)},p.logic.parseAsync=function(e,t,r){return p.logic.parse.call(this,e,t,r,!0)},p.Template.prototype.renderAsync=function(e,t){return this.render(e,t,!0)},p.async={},p.isPromise=function(e){return e&&e.then&&"function"==typeof e.then},p.async.potentiallyAsync=function(e,s,o){if(s)return p.Promise.resolve(o.call(e));{s=e;e=o;let t=e.call(s),r=null,n=!0;if(p.isPromise(t)){if(t.then(e=>{t=e,n=!1}).catch(e=>{r=e}),null!==r)throw r;if(n)throw new p.Error("You are using Twig.js in sync mode in combination with async extensions.")}return t;return}},p.Thenable=function(e,t,r){this.then=e,this._value=r?t:null,this._state=r||0},p.Thenable.prototype.catch=function(e){return 1===this._state?this:this.then(null,e)},p.Thenable.resolvedThen=function(e){try{return p.Promise.resolve(e(this._value))}catch(e){return p.Promise.reject(e)}},p.Thenable.rejectedThen=function(e,t){if(!t||"function"!=typeof t)return this;var r=this._value;let n;try{n=t(r)}catch(e){n=p.Promise.reject(e)}return p.Promise.resolve(n)},p.Promise=function(e){let r=0,n=null,t=function(e,t){r=e,n=t};var s=function(e){t(1,e)},o=function(e){t(2,e)};try{e(s,o)}catch(e){o(e)}return 1===r?p.Promise.resolve(n):2===r?p.Promise.reject(n):(t=new p.FullPromise).promise},p.FullPromise=function(){let n=null;function r(e){e(a._value)}function s(e,t){t(a._value)}let i=function(e,t){var r;n=(r=n,e=[e=e,t,-2],r?-2===r[2]?r=[r,e]:r.push(e):r=e,r)};function e(e,t){a._state||(a._value=t,a._state=e,i=1===e?r:s,n=n&&(-2===n[2]?i(n[0],n[1]):n.forEach(e=>{i(e[0],e[1])}),null))}const a=new p.Thenable((n,s)=>{const e="function"==typeof n;if(1===a._state&&!e)return p.Promise.resolve(a._value);if(1===a._state)try{return p.Promise.resolve(n(a._value))}catch(e){return p.Promise.reject(e)}const o="function"==typeof s;return new p.Promise((t,r)=>{i(e?e=>{try{t(n(e))}catch(e){r(e)}}:t,o?e=>{try{t(s(e))}catch(e){r(e)}}:r)})});return e.promise=a,e},p.Promise.defaultResolved=new p.Thenable(p.Thenable.resolvedThen,void 0,1),p.Promise.emptyStringResolved=new p.Thenable(p.Thenable.resolvedThen,"",1),p.Promise.resolve=function(e){return 0===arguments.length||void 0===e?p.Promise.defaultResolved:p.isPromise(e)?e:""===e?p.Promise.emptyStringResolved:new p.Thenable(p.Thenable.resolvedThen,e,1)},p.Promise.reject=function(e){return new p.Thenable(p.Thenable.rejectedThen,e,2)},p.Promise.all=function(e){const r=new Array(e.length);return p.async.forEach(e,(e,t)=>{if(p.isPromise(e)){if(1!==e._state)return e.then(e=>{r[t]=e});r[t]=e._value}else r[t]=e}).then(()=>r)},p.async.forEach=function(r,n){const s=r?r.length:0;let o=0;return function e(){let t=null;do{if(o===s)return p.Promise.resolve()}while(t=n(r[o],o),o++,!t||!p.isPromise(t)||1===t._state);return t.then(e)}()},p}},function(e,t){e.exports=function(a){"use strict";return a.exports={VERSION:a.VERSION},a.exports.twig=function(e){var t=e["id"],r={strictVariables:e.strict_variables||!1,autoescape:null!==e.autoescape&&e.autoescape||!1,allowInlineIncludes:e.allowInlineIncludes||!1,rethrow:e.rethrow||!1,namespaces:e.namespaces};if(a.cache&&t&&a.validateId(t),void 0!==e.debug&&(a.debug=e.debug),void 0!==e.trace&&(a.trace=e.trace),void 0!==e.data)return a.Templates.parsers.twig({data:e.data,path:Object.hasOwnProperty.call(e,"path")?e.path:void 0,module:e.module,id:t,options:r});if(void 0!==e.ref){if(void 0!==e.id)throw new a.Error("Both ref and id cannot be set on a twig.js template.");return a.Templates.load(e.ref)}if(void 0===e.method)return void 0!==e.href?a.Templates.loadRemote(e.href,{id:t,method:"ajax",parser:e.parser||"twig",base:e.base,module:e.module,precompiled:e.precompiled,async:e.async,options:r},e.load,e.error):void 0!==e.path?a.Templates.loadRemote(e.path,{id:t,method:"fs",parser:e.parser||"twig",base:e.base,module:e.module,precompiled:e.precompiled,async:e.async,options:r},e.load,e.error):void 0;if(a.Templates.isRegisteredLoader(e.method))return a.Templates.loadRemote(e.name||e.href||e.path||t||void 0,{id:t,method:e.method,parser:e.parser||"twig",base:e.base,module:e.module,precompiled:e.precompiled,async:e.async,options:r},e.load,e.error);throw new a.Error('Loader for "'+e.method+'" is not defined.')},a.exports.extendFilter=function(e,t){a.filter.extend(e,t)},a.exports.extendFunction=function(e,t){a._function.extend(e,t)},a.exports.extendTest=function(e,t){a.test.extend(e,t)},a.exports.extendTag=function(e){a.logic.extend(e)},a.exports.extend=function(e){e(a)},a.exports.compile=function(e,t){var r=t.filename,n=t.filename;const s=new a.Template({data:e,path:n,id:r,options:t.settings["twig options"]});return function(e){return s.render(e)}},a.exports.renderFile=function(e,t,r){"function"==typeof t&&(r=t,t={});var n=(t=t||{}).settings||{};const s=n["twig options"];var o={path:e,base:n.views,load(e){s&&s.allowAsync?e.renderAsync(t).then(e=>r(null,e),r):r(null,String(e.render(t)))},error(e){r(e)}};if(s)for(const i in s)Object.hasOwnProperty.call(s,i)&&(o[i]=s[i]);a.exports.twig(o)},a.exports.__express=a.exports.renderFile,a.exports.cache=function(e){a.cache=e},a.exports.path=a.path,a.exports.filters=a.filters,a.exports.tests=a.tests,a.exports.functions=a.functions,a.exports.Promise=a.Promise,a}}]]);